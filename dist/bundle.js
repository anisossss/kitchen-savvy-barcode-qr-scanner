!function(){"use strict";var t,e,n={},i={};function o(t){var e=i[t];if(void 0!==e)return e.exports;var s=i[t]={exports:{}};return n[t](s,s.exports,o),s.exports}o.m=n,o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.f={},o.e=function(t){return Promise.all(Object.keys(o.f).reduce((function(e,n){return o.f[n](t,e),e}),[]))},o.u=function(t){return t+".bundle.js"},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t={},e="kitchensavvy-barcodeqr-scanner:",o.l=function(n,i,s,r){if(t[n])t[n].push(i);else{var a,l;if(void 0!==s)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var h=d[c];if(h.getAttribute("src")==n||h.getAttribute("data-webpack")==e+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",e+s),a.src=n),t[n]=[i];var u=function(e,i){a.onerror=a.onload=null,clearTimeout(p);var o=t[n];if(delete t[n],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((function(t){return t(i)})),e)return e(i)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=u.bind(null,a.onerror),a.onload=u.bind(null,a.onload),l&&document.head.appendChild(a)}},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){var t;o.g.importScripts&&(t=o.g.location+"");var e=o.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&(!t||!/^http(s?):/.test(t));)t=n[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=t}(),function(){var t={792:0};o.f.j=function(e,n){var i=o.o(t,e)?t[e]:void 0;if(0!==i)if(i)n.push(i[2]);else{var s=new Promise((function(n,o){i=t[e]=[n,o]}));n.push(i[2]=s);var r=o.p+o.u(e),a=new Error;o.l(r,(function(n){if(o.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var s=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;a.message="Loading chunk "+e+" failed.\n("+s+": "+r+")",a.name="ChunkLoadError",a.type=s,a.request=r,i[1](a)}}),"chunk-"+e,e)}};var e=function(e,n){var i,s,r=n[0],a=n[1],l=n[2],d=0;if(r.some((function(e){return 0!==t[e]}))){for(i in a)o.o(a,i)&&(o.m[i]=a[i]);l&&l(o)}for(e&&e(n);d<r.length;d++)s=r[d],o.o(t,s)&&t[s]&&t[s][0](),t[s]=0},n=self.webpackChunkkitchensavvy_barcodeqr_scanner=self.webpackChunkkitchensavvy_barcodeqr_scanner||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();let s=(t="",e="")=>`${"string"==typeof t&&""!==t?t+"-":""}${Math.random().toString(36).substring(2,8)}${"string"==typeof e&&""!==e?"-"+e:""}`,r=(t,e)=>{if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];delete e[t],e[t]=n}},a=0,l=document.createElement("template");l.innerHTML='\n  <style>\n    \n  :host {\n    box-sizing: border-box;\n    display: inline-block;\n    contain: content;\n  }\n\n  :host([hidden]),\n  [hidden] {\n    display: none !important;\n  }\n\n  :host *,\n  :host *::before,\n  :host *::after {\n    box-sizing: inherit;\n  }\n\n  .tab {\n    display: inline-flex;\n    align-items: center;\n    gap: 0.5rem;\n    width: 100%;\n    padding: 0.375rem 0.75rem;\n    white-space: nowrap;\n    cursor: pointer;\n  }\n\n  :host([disabled]) .tab {\n    opacity: 0.7;\n    cursor: not-allowed;\n  }\n\n  :host([selected]) .tab {\n    color: var(--selected-tab-color);\n    background-color: var(--selected-tab-bg-color);\n  }\n\n  .tab__close {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    padding: 0.25rem;\n    font-size: inherit;\n    cursor: pointer;\n  }\n\n  </style>\n\n  <div part="base" class="tab">\n    <slot></slot>\n  </div>\n';class d extends HTMLElement{constructor(){super(),this.shadowRoot||this.attachShadow({mode:"open"}).appendChild(l.content.cloneNode(!0))}static get observedAttributes(){return["selected","disabled","closable"]}attributeChangedCallback(t,e,n){if("selected"===t&&e!==n&&this.setAttribute("aria-selected",this.selected.toString()),"disabled"===t&&e!==n&&(this.setAttribute("aria-disabled",this.disabled.toString()),this.setAttribute("tabindex",this.disabled?"-1":"0")),"closable"===t&&e!==n)if(this.closable){let t=document.createElement("span");t.className="tab__close",t.setAttribute("part","close-tab"),t.innerHTML='<svg part="close-tab-icon" xmlns="http://www.w3.org/2000/svg" width="0.875em" height="0.875em" fill="currentColor" viewBox="0 0 16 16"><path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/></svg>',this.shadowRoot?.querySelector(".tab")?.appendChild(t),t.addEventListener("click",this.#t)}else{let t=this.shadowRoot?.querySelector(".tab__close");t?.removeEventListener("click",this.#t),t?.remove()}}connectedCallback(){this.#e("selected"),this.#e("disabled"),this.#e("closable"),this.id||(this.id=s("tab",(++a).toString())),this.setAttribute("slot","tab"),this.setAttribute("role","tab"),this.setAttribute("aria-selected","false"),this.setAttribute("tabindex",this.disabled?"-1":"0")}disconnectedCallback(){let t=this.shadowRoot?.querySelector(".tab__close");t?.removeEventListener("click",this.#t)}get selected(){return this.hasAttribute("selected")}set selected(t){this.toggleAttribute("selected",!!t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){this.toggleAttribute("disabled",!!t)}get closable(){return this.hasAttribute("closable")}set closable(t){this.toggleAttribute("closable",!!t)}#t=t=>{t.stopPropagation(),this.dispatchEvent(new CustomEvent("a-tab-close",{bubbles:!0,composed:!0,detail:{tabId:this.id}}))};#e(t){return r(t,this)}static defineCustomElement(t="a-tab"){"undefined"==typeof window||window.customElements.get(t)||window.customElements.define(t,d)}}d.defineCustomElement();let c=0,h=document.createElement("template");h.innerHTML='\n  <style>\n    \n  :host {\n    box-sizing: border-box;\n    display: block;\n    contain: content;\n  }\n\n  :host([hidden]),\n  [hidden] {\n    display: none !important;\n  }\n\n  :host *,\n  :host *::before,\n  :host *::after {\n    box-sizing: inherit;\n  }\n\n  </style>\n\n  <div part="base" class="tab-panel">\n    <slot></slot>\n  </div>\n';class u extends HTMLElement{constructor(){super(),this.shadowRoot||this.attachShadow({mode:"open"}).appendChild(h.content.cloneNode(!0))}connectedCallback(){this.setAttribute("slot","panel"),this.setAttribute("role","tabpanel"),this.setAttribute("hidden",""),this.id||(this.id=s("panel",(++c).toString()))}static defineCustomElement(t="a-tab-panel"){"undefined"==typeof window||window.customElements.get(t)||window.customElements.define(t,u)}}u.defineCustomElement();let p={TOP:"top",BOTTOM:"bottom",START:"start",END:"end"},b=Object.entries(p).map((([,t])=>t)),m="auto",g="manual",f=`\n  :host {\n    --selected-tab-color: #005fcc;\n    --selected-tab-bg-color: transparent;\n    --tabs-scroll-behavior: smooth;\n    --scroll-button-width: 2.125em;\n    --scroll-button-height: 2.125em;\n    --scroll-button-inline-offset: 0rem;\n\n    box-sizing: border-box;\n    display: block;\n    contain: content;\n  }\n\n  @media (prefers-reduced-motion: reduce) {\n    :host {\n      --tabs-scroll-behavior: auto;\n    }\n  }\n\n  :host([hidden]),\n  [hidden],\n  ::slotted([hidden]) {\n    display: none !important;\n  }\n\n  :host *,\n  :host *::before,\n  :host *::after {\n    box-sizing: inherit;\n  }\n\n  .tab-group {\n    display: flex;\n    width: 100%;\n  }\n\n  .tab-group__nav {\n    position: relative;\n  }\n\n  .tab-group__nav--has-scroll-controls {\n    padding: 0 calc(var(--scroll-button-width) + var(--scroll-button-inline-offset));\n  }\n\n  .tab-group__scroll-button {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n    width: var(--scroll-button-width);\n    height: var(--scroll-button-height);\n    padding: 0; /* Required for iOS, otherwise the svg is not visible: https://stackoverflow.com/questions/66532071/flex-svg-behaving-strange-in-ios-safari-14-0-3 */\n    border: 0;\n    z-index: 1;\n    background-color: transparent;\n    font-size: inherit;\n    cursor: pointer;\n    color: currentColor;\n  }\n\n  .tab-group__scroll-button--start {\n    left: var(--scroll-button-inline-offset);\n  }\n\n  .tab-group__scroll-button--end {\n    right: var(--scroll-button-inline-offset);\n  }\n\n  .tab-group__tabs {\n    display: flex;\n    padding: 0.25rem;\n    overflow-x: auto;\n    scroll-behavior: var(--tabs-scroll-behavior);\n    scrollbar-width: none;\n  }\n\n  .tab-group__tabs::-webkit-scrollbar {\n    display: none;\n  }\n\n  .tab-group__panels {\n    padding: 1rem 0;\n  }\n\n  /* placement="top" */\n  .tab-group,\n  :host([placement="${p.TOP}"]) .tab-group {\n    flex-direction: column;\n  }\n\n  /* placement="bottom" */\n  :host([placement="${p.BOTTOM}"]) .tab-group {\n    flex-direction: column;\n  }\n\n  :host([placement="${p.BOTTOM}"]) .tab-group__nav {\n    order: 1;\n  }\n\n  /* placement="start" */\n  :host([placement="${p.START}"]) .tab-group {\n    flex-direction: row;\n  }\n\n  :host([placement="${p.START}"]) .tab-group__tabs {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n\n  :host([placement="${p.START}"]) .tab-group__panels {\n    flex: 1;\n    padding: 0 1rem;\n  }\n\n  /* placement="end" */\n  :host([placement="${p.END}"]) .tab-group {\n    flex-direction: row;\n  }\n\n  :host([placement="${p.END}"]) .tab-group__nav {\n    order: 1;\n  }\n\n  :host([placement="${p.END}"]) .tab-group__tabs {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n\n  :host([placement="${p.END}"]) .tab-group__panels {\n    flex: 1;\n    padding: 0 1rem;\n  }\n`,v=document.createElement("template");v.innerHTML=`\n  <style>\n    ${f}\n  </style>\n\n  <div part="base" class="tab-group">\n    <div part="nav" class="tab-group__nav">\n      <button type="button" part="scroll-button scroll-button--start" class="tab-group__scroll-button tab-group__scroll-button--start" aria-label="Scroll to start" tabindex="-1">\n        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" part="scroll-button-icon">\n          <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>\n        </svg>\n      </button>\n\n      <div part="tabs" class="tab-group__tabs" role="tablist" tabindex="-1">\n        <slot name="tab"></slot>\n      </div>\n\n      <button type="button" part="scroll-button scroll-button--end" class="tab-group__scroll-button tab-group__scroll-button--end" aria-label="Scroll to end" tabindex="-1">\n        <svg xmlns="http://www.w3.org/2000/svg" width="1rem" height="1em" fill="currentColor" viewBox="0 0 16 16" part="scroll-button-icon">\n          <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>\n        </svg>\n      </button>\n    </div>\n\n    <div part="panels" class="tab-group__panels">\n      <slot name="panel"></slot>\n    </div>\n  </div>\n`;class w extends HTMLElement{#n=null;#i=null;#o=!1;constructor(){super(),this.shadowRoot||this.attachShadow({mode:"open"}).appendChild(v.content.cloneNode(!0))}static get observedAttributes(){return["placement","no-scroll-controls"]}attributeChangedCallback(t,e,n){"placement"===t&&e!==n&&this.#s(),"no-scroll-controls"===t&&e!==n&&this.#s()}get placement(){return this.getAttribute("placement")||p.TOP}set placement(t){null!=t&&this.setAttribute("placement",t)}get noScrollControls(){return this.hasAttribute("no-scroll-controls")}set noScrollControls(t){this.toggleAttribute("no-scroll-controls",!!t)}get scrollDistance(){return Math.abs(Number(this.getAttribute("scroll-distance")))||200}set scrollDistance(t){this.setAttribute("scroll-distance",Math.abs(t).toString()||"200")}get activation(){return this.getAttribute("activation")||m}set activation(t){this.setAttribute("activation",t||m)}get noTabCycling(){return this.hasAttribute("no-tab-cycling")}set noTabCycling(t){this.toggleAttribute("no-tab-cycling",!!t)}connectedCallback(){this.#e("placement"),this.#e("noScrollControls"),this.#e("scrollDistance"),this.#e("activation"),this.#e("noTabCycling");let t=this.shadowRoot?.querySelector("slot[name=tab]"),e=this.shadowRoot?.querySelector("slot[name=panel]"),n=this.shadowRoot?.querySelector(".tab-group__tabs"),i=this.shadowRoot?.querySelector(".tab-group__nav"),o=Array.from(this.shadowRoot?.querySelectorAll(".tab-group__scroll-button")||[]);t?.addEventListener("slotchange",this.#r),e?.addEventListener("slotchange",this.#r),n?.addEventListener("click",this.#a),n?.addEventListener("keydown",this.#l),o.forEach((t=>t.addEventListener("click",this.#d))),this.addEventListener("a-tab-close",this.#c),"ResizeObserver"in window&&(this.#n=new ResizeObserver((t=>{this.#i=window.requestAnimationFrame((()=>{let e=t?.[0],n=e?.target,s=n?.scrollWidth>n?.clientWidth;o.forEach((t=>t.toggleAttribute("hidden",!s))),i?.part.toggle("nav--has-scroll-controls",s),i?.classList.toggle("tab-group__nav--has-scroll-controls",s)}))}))),this.#h(),this.#s()}disconnectedCallback(){let t=this.shadowRoot?.querySelector("slot[name=tab]"),e=this.shadowRoot?.querySelector("slot[name=panel]"),n=this.shadowRoot?.querySelector(".tab-group__tabs"),i=Array.from(this.shadowRoot?.querySelectorAll(".tab-group__scroll-button")||[]);t?.removeEventListener("slotchange",this.#r),e?.removeEventListener("slotchange",this.#r),n?.removeEventListener("click",this.#a),n?.removeEventListener("keydown",this.#l),i.forEach((t=>t.removeEventListener("click",this.#d))),this.removeEventListener("a-tab-close",this.#c),this.#u()}#p(){if(!this.#n)return;let t=this.shadowRoot?.querySelector(".tab-group__tabs");t&&(this.#n.unobserve(t),this.#n.observe(t))}#u(){this.#n&&(this.#n.disconnect(),null!==this.#i&&(window.cancelAnimationFrame(this.#i),this.#i=null))}#b(){return getComputedStyle(this).direction||"ltr"}#h(){this.hidden=0===this.#m().length}#g(){let t=this.#m();this.#h(),t.forEach((t=>{let e=t.nextElementSibling;if(!e||"a-tab-panel"!==e.tagName.toLowerCase())return console.error(`Tab #${t.id} is not a sibling of a <a-tab-panel>`);t.setAttribute("aria-controls",e.id),e.setAttribute("aria-labelledby",t.id)}))}#f(){return Array.from(this.querySelectorAll("a-tab-panel"))}#m(){return Array.from(this.querySelectorAll("a-tab"))}#v(t){let e=t.getAttribute("aria-controls");return this.querySelector(`#${e}`)}#w(){return this.#m().find((t=>!t.disabled))||null}#y(){let t=this.#m();for(let e=t.length-1;e>=0;e--)if(!t[e].disabled)return t[e];return null}#E(){let t=this.#m(),e=this.activation===g?t.findIndex((t=>t.matches(":focus")))-1:t.findIndex((t=>t.selected))-1;for(;t[(e+t.length)%t.length].disabled;)e--;return this.noTabCycling&&e<0?null:t[(e+t.length)%t.length]}#A(){let t=this.#m(),e=this.activation===g?t.findIndex((t=>t.matches(":focus")))+1:t.findIndex((t=>t.selected))+1;for(;t[e%t.length].disabled;)e++;return this.noTabCycling&&e>=t.length?null:t[e%t.length]}#x(){let t=this.#m(),e=this.#f();t.forEach((t=>t.selected=!1)),e.forEach((t=>t.hidden=!0))}#s(){let t=this.shadowRoot?.querySelector(".tab-group__nav"),e=Array.from(this.shadowRoot?.querySelectorAll(".tab-group__scroll-button")||[]);this.noScrollControls||this.placement===p.START||this.placement===p.END?(this.#u(),e.forEach((t=>t.hidden=!0)),t?.part.remove("nav--has-scroll-controls"),t?.classList.remove("tab-group__nav--has-scroll-controls")):(this.#p(),e.forEach((t=>t.hidden=!1)))}#k(){let t=this.#m(),e=t.find((t=>t.selected&&!t.disabled))||t.find((t=>!t.disabled));e&&(this.#o&&!e.selected&&this.dispatchEvent(new CustomEvent("a-tab-show",{bubbles:!0,composed:!0,detail:{tabId:e.id}})),this.#z(e))}#z(t){this.#x(),t&&(t.selected=!0);let e=this.#v(t);e&&(e.hidden=!1)}#r=t=>{this.#g(),this.#s(),this.#k(),"tab"===t.target.name&&(this.#o=!0)};#l=t=>{if("a-tab"!==t.target.tagName.toLowerCase()||t.altKey)return;let e=b.includes(this.placement||"")?this.placement:p.TOP,n=[p.TOP,p.BOTTOM].includes(e||"")?"horizontal":"vertical",i=this.#b(),o=null;switch(t.key){case"ArrowLeft":"horizontal"===n&&(o="ltr"===i?this.#E():this.#A())&&(this.activation===g?o.focus():this.selectTab(o));break;case"ArrowRight":"horizontal"===n&&(o="ltr"===i?this.#A():this.#E())&&(this.activation===g?o.focus():this.selectTab(o));break;case"ArrowUp":"vertical"===n&&(o=this.#E())&&(this.activation===g?o.focus():this.selectTab(o));break;case"ArrowDown":"vertical"===n&&(o=this.#A())&&(this.activation===g?o.focus():this.selectTab(o));break;case"Home":(o=this.#w())&&(this.activation===g?o.focus():this.selectTab(o));break;case"End":(o=this.#y())&&(this.activation===g?o.focus():this.selectTab(o));break;case"Enter":case" ":(o=t.target)&&this.selectTab(o);break;default:return}t.preventDefault()};#a=t=>{let e=t.target.closest("a-tab");e&&this.selectTab(e)};#d=t=>{let e=t.target.closest(".tab-group__scroll-button"),n=this.shadowRoot?.querySelector(".tab-group__tabs");if(!e||!n)return;let i=e.classList.contains("tab-group__scroll-button--start")?-1:1,o=n.scrollLeft;n.scrollTo({left:o+i*this.scrollDistance})};#c=t=>{let e=t.target,n=this.#v(e);e&&(e.remove(),e.selected&&this.dispatchEvent(new CustomEvent("a-tab-hide",{bubbles:!0,composed:!0,detail:{tabId:e.id}}))),n&&"a-tab-panel"===n.tagName.toLowerCase()&&n.remove()};#e(t){return r(t,this)}selectTabByIndex(t){let e=this.#m()[t];e&&this.selectTab(e)}selectTabById(t){let e=this.#m().find((e=>e.id===t));e&&this.selectTab(e)}selectTab(t){let e=this.#m().find((t=>t.selected));!t||t.disabled||t.selected||"a-tab"!==t.tagName.toLowerCase()||(this.#z(t),window.requestAnimationFrame((()=>{t.scrollIntoView({inline:"nearest",block:"nearest"}),t.focus()})),e&&this.dispatchEvent(new CustomEvent("a-tab-hide",{bubbles:!0,composed:!0,detail:{tabId:e.id}})),this.dispatchEvent(new CustomEvent("a-tab-show",{bubbles:!0,composed:!0,detail:{tabId:t.id}})))}static defineCustomElement(t="a-tab-group"){"undefined"==typeof window||window.customElements.get(t)||window.customElements.define(t,w)}}w.defineCustomElement(),Object.defineProperty({},"WebShare",{get:function(){return E},set:void 0,enumerable:!0,configurable:!0});let y=document.createElement("template");y.innerHTML='\n  <style>\n  :host {\n    display: inline-block;\n  }\n</style>\n  <slot name="button"><button type="button" part="button"><slot name="button-content">Share</slot></button></slot>\n';class E extends HTMLElement{#t;#e;#n=[];constructor(){super(),this.shadowRoot||this.attachShadow({mode:"open",delegatesFocus:!0}).appendChild(y.content.cloneNode(!0)),this.#t=this.shadowRoot?.querySelector('slot[name="button"]')||null,this.#e=this.#r()}static get observedAttributes(){return["disabled"]}attributeChangedCallback(t,e,n){"disabled"===t&&e!==n&&this.#e&&(this.#e.toggleAttribute("disabled",this.disabled),this.#e.setAttribute("aria-disabled",this.disabled.toString()),this.#e.part&&this.#e.part.contains("button")&&this.#e.part.toggle("button--disabled",this.disabled))}connectedCallback(){this.#a("shareUrl"),this.#a("shareTitle"),this.#a("shareText"),this.#a("shareFiles"),this.#a("disabled"),this.#t?.addEventListener("slotchange",this.#o),this.#e?.addEventListener("click",this.#l)}disconnectedCallback(){this.#t?.removeEventListener("slotchange",this.#o),this.#e?.removeEventListener("click",this.#l)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){this.toggleAttribute("disabled",!!t)}get shareUrl(){return this.getAttribute("share-url")||""}set shareUrl(t){this.setAttribute("share-url",t)}get shareTitle(){return this.getAttribute("share-title")||""}set shareTitle(t){this.setAttribute("share-title",t)}get shareText(){return this.getAttribute("share-text")||""}set shareText(t){this.setAttribute("share-text",t)}get shareFiles(){return this.#n}set shareFiles(t){Array.isArray(t)&&t.length>0&&(this.#n=t)}async share(){if(!this.disabled)try{let t={};this.shareUrl&&(t.url=this.shareUrl),this.shareTitle&&(t.title=this.shareTitle),this.shareText&&(t.text=this.shareText),Array.isArray(this.shareFiles)&&this.shareFiles.length>0&&navigator.canShare&&navigator.canShare({files:this.shareFiles})&&(t.files=this.shareFiles),await navigator.share(t),this.dispatchEvent(new CustomEvent("web-share:success",{bubbles:!0,composed:!0,detail:{shareData:t}}))}catch(t){if(t instanceof Error&&"AbortError"===t.name)return void this.dispatchEvent(new CustomEvent("web-share:abort",{bubbles:!0,composed:!0,detail:{error:t}}));this.dispatchEvent(new CustomEvent("web-share:error",{bubbles:!0,composed:!0,detail:{error:t}}))}}#l=t=>{t.preventDefault(),this.disabled||this.share()};#o=t=>{t.target&&"button"===t.target.name&&(this.#e?.removeEventListener("click",this.#l),this.#e=this.#r(),this.#e&&(this.#e.addEventListener("click",this.#l),"BUTTON"===this.#e.nodeName||this.#e.hasAttribute("role")||this.#e.setAttribute("role","button")))};#r(){return this.#t&&this.#t.assignedElements({flatten:!0}).find((t=>"BUTTON"===t.nodeName||"button"===t.getAttribute("slot")))||null}#a(t){if(Object.prototype.hasOwnProperty.call(this,t)){let e=this[t];delete this[t],this[t]=e}}static defineCustomElement(t="web-share"){"undefined"==typeof window||window.customElements.get(t)||window.customElements.define(t,E)}}E.defineCustomElement(),Object.defineProperty({},"FilesDropzone",{get:function(){return N},set:void 0,enumerable:!0,configurable:!0});let A=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["jxl","image/jxl"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["markdown","text/markdown"],["md","text/markdown"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]),x=[".DS_Store","Thumbs.db"],k=(t,e)=>{let n=(t=>{let{name:e}=t;if(e&&-1!==e.lastIndexOf(".")&&!t.type){let n=(e.split(".").pop()||"").toLowerCase(),i=A.get(n);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t})(t);if("string"!=typeof n.path){let{webkitRelativePath:i}=t;Object.defineProperty(n,"path",{value:"string"==typeof e?e:i||t.name,writable:!1,configurable:!1,enumerable:!0})}return n},z=async t=>await new Promise(((e,n)=>{t.readEntries(e,n)})),C=async t=>{let e=[],n=await z(t);for(;n.length>0;)e.push(...n),n=await z(t);return e},S=t=>new Promise(((e,n)=>{t.file((n=>e(k(n,t.fullPath))),n)})),T=async t=>{let e=[];for(let n of t)-1===x.indexOf(n.name)&&e.push(k(n));return e},L=async t=>t.dataTransfer?t.dataTransfer.items?await(async t=>{let e=[],n=[];for(let e of t){if("file"!==e.kind)continue;let t=e.getAsEntry?e.getAsEntry():e.webkitGetAsEntry();n.push(t)}for(;n.length>0;){let t=n.shift();if(t)if(t.isFile){let n=await S(t);-1===x.indexOf(n.name)&&e.push(n)}else t.isDirectory&&n.push(...await C(t.createReader()))}return e})(t.dataTransfer.items):await T(t.dataTransfer.files):await T(t.target.files),_="files-dropzone",R="TOO_MANY_FILES",M=document.createElement("template");M.innerHTML='\n  <style>\n    \n  *,\n  *::before,\n  *::after {\n    box-sizing: border-box;\n  }\n\n  :host([hidden]),\n  [hidden] {\n    display: none !important;\n  }\n\n  :host {\n    --dropzone-border-width: 2px;\n    --dropzone-border-style: dashed;\n    --dropzone-border-radius: 0.25rem;\n    --dropzone-border-color: #6c757d;\n    --dropzone-border-color-dragover: #0d6efd;\n    --dropzone-border-color-hover: var(--dropzone-border-color-dragover);\n    --dropzone-background-color: #ffffff;\n    --dropzone-background-color-dragover: #f4f4f5;\n    --dropzone-background-color-hover: var(--dropzone-background-color-dragover);\n    --dropzone-body-color: #3f3f46;\n    --dropzone-body-color-dragover: var(--dropzone-body-color);\n    --dropzone-body-color-hover: var(--dropzone-body-color-dragover);\n    --dropzone-focus-shadow-rgb: 49,132,253;\n    --dropzone-focus-box-shadow: 0 0 0 0.25rem rgba(var(--dropzone-focus-shadow-rgb), 0.5);\n    --transition-duration: 0.2s; /* for backwards compatibility */\n    --dropzone-transition-duration: var(--transition-duration);\n\n    display: block;\n  }\n\n  :host(:not([no-style])) .dropzone {\n    border: var(--dropzone-border-width) var(--dropzone-border-style) var(--dropzone-border-color);\n    border-radius: var(--dropzone-border-radius);\n    padding: 3rem 1rem;\n    overflow: hidden;\n    background-color: var(--dropzone-background-color);\n    color: var(--dropzone-body-color);\n    text-align: center;\n    cursor: pointer;\n    transition: border var(--dropzone-transition-duration) ease-in-out, background-color var(--dropzone-transition-duration) ease-in-out, color var(--dropzone-transition-duration) ease-in-out, box-shadow var(--dropzone-transition-duration) ease-in-out;\n  }\n\n  :host(:not([no-style])[no-click]) .dropzone {\n    cursor: default;\n  }\n\n  :host(:not([no-style])[disabled]) .dropzone {\n    opacity: 0.8;\n    cursor: not-allowed;\n  }\n\n  :host(:not([no-style]):not([disabled])) .dropzone--dragover {\n    border-color: var(--dropzone-border-color-dragover);\n    background-color: var(--dropzone-background-color-dragover);\n    color: var(--dropzone-body-color-dragover);\n  }\n\n  :host(:not([no-style]):not([disabled])) .dropzone:focus-visible {\n    outline: none;\n    box-shadow: var(--dropzone-focus-box-shadow);\n  }\n\n  @media (hover: hover) {\n    :host(:not([no-style]):not([disabled])) .dropzone:not(.dropzone--dragover):hover {\n      border-color: var(--dropzone-border-color-hover);\n      background-color: var(--dropzone-background-color-hover);\n      color: var(--dropzone-body-color-hover);\n    }\n  }\n\n  </style>\n\n  <input type="file" id="fileInput" hidden>\n\n  <div part="dropzone" class="dropzone" id="dropzoneEl" tabindex="0" role="presentation">\n    <slot>Drag \'n\' drop files here, or click to select files</slot>\n  </div>\n';class N extends HTMLElement{#e=null;#t=null;constructor(){super(),this.shadowRoot||this.attachShadow({mode:"open"}).appendChild(M.content.cloneNode(!0)),this.shadowRoot&&(this.#e=this.shadowRoot.getElementById("fileInput"),this.#t=this.shadowRoot.getElementById("dropzoneEl"))}static get observedAttributes(){return["accept","disabled","multiple","no-keyboard"]}attributeChangedCallback(t,e,n){"accept"===t&&e!==n&&this.#e&&(this.#e.accept=this.accept),"disabled"===t&&e!==n&&this.#e&&(this.#e.disabled=this.disabled,this.disabled?this.#t?.removeAttribute("tabindex"):this.#t?.setAttribute("tabindex","0")),"multiple"===t&&e!==n&&this.#e&&(this.#e.multiple=this.multiple),"no-keyboard"===t&&e!==n&&this.#t&&(this.noKeyboard?this.#t.removeAttribute("tabindex"):this.#t.setAttribute("tabindex","0"))}connectedCallback(){this.#i("accept"),this.#i("disabled"),this.#i("maxFiles"),this.#i("maxSize"),this.#i("minSize"),this.#i("multiple"),this.#i("noClick"),this.#i("noDrag"),this.#i("noKeyboard"),this.#i("autoFocus"),this.#i("noStyle"),this.#e?.addEventListener("change",this.#r),this.#t?.addEventListener("dragenter",this.#a),this.#t?.addEventListener("dragover",this.#o),this.#t?.addEventListener("dragleave",this.#l),this.#t?.addEventListener("drop",this.#n),this.#t?.addEventListener("click",this.#c),this.#t?.addEventListener("keyup",this.#s),this.autoFocus&&this.#t?.focus()}disconnectedCallback(){this.#e?.removeEventListener("change",this.#r),this.#t?.removeEventListener("dragenter",this.#a),this.#t?.removeEventListener("dragover",this.#o),this.#t?.removeEventListener("dragleave",this.#l),this.#t?.removeEventListener("drop",this.#n),this.#t?.removeEventListener("click",this.#c),this.#t?.removeEventListener("keyup",this.#s)}get accept(){return this.getAttribute("accept")||""}set accept(t){this.setAttribute("accept",null!=t?t.toString():t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){this.toggleAttribute("disabled",!!t)}get maxFiles(){let t=Number(this.getAttribute("max-files"))||0;return t<=0?1/0:Math.floor(Math.abs(t))}set maxFiles(t){this.setAttribute("max-files",null!=t?t.toString():t)}get maxSize(){let t=this.getAttribute("max-size");if(null===t)return 1/0;let e=Number(t);return Number.isNaN(e)?1/0:e}set maxSize(t){this.setAttribute("max-size",null!=t?t.toString():t)}get minSize(){let t=this.getAttribute("min-size");if(null===t)return 0;let e=Number(t);return Number.isNaN(e)?0:e}set minSize(t){this.setAttribute("min-size",null!=t?t.toString():t)}get multiple(){return this.hasAttribute("multiple")}set multiple(t){this.toggleAttribute("multiple",!!t)}get noClick(){return this.hasAttribute("no-click")}set noClick(t){this.toggleAttribute("no-click",!!t)}get noDrag(){return this.hasAttribute("no-drag")}set noDrag(t){this.toggleAttribute("no-drag",!!t)}get noKeyboard(){return this.hasAttribute("no-keyboard")}set noKeyboard(t){this.toggleAttribute("no-keyboard",!!t)}get autoFocus(){return this.hasAttribute("auto-focus")}set autoFocus(t){this.toggleAttribute("auto-focus",!!t)}get noStyle(){return this.hasAttribute("no-style")}set noStyle(t){this.toggleAttribute("no-style",!!t)}#r=async t=>{try{this.#b(await L(t))}catch(t){this.dispatchEvent(new CustomEvent(`${_}-error`,{bubbles:!0,composed:!0,detail:{error:t}}))}};#a=()=>{this.disabled||this.noDrag||this.dispatchEvent(new Event(`${_}-dragenter`,{bubbles:!0,composed:!0}))};#o=t=>{t.preventDefault(),this.disabled||this.noDrag?t.dataTransfer.dropEffect="none":(t.dataTransfer.dropEffect="copy",this.#t&&(this.#t.classList.add("dropzone--dragover"),this.#t.part.add("dropzone--dragover")),this.dispatchEvent(new Event(`${_}-dragover`,{bubbles:!0,composed:!0})))};#l=()=>{this.disabled||this.noDrag||(this.#t&&(this.#t.classList.remove("dropzone--dragover"),this.#t.part.remove("dropzone--dragover")),this.dispatchEvent(new Event(`${_}-dragleave`,{bubbles:!0,composed:!0})))};#n=async t=>{if(!this.disabled&&!this.noDrag){t.preventDefault(),this.#t&&(this.#t.classList.remove("dropzone--dragover"),this.#t.part.remove("dropzone--dragover"));try{this.#b(await L(t))}catch(t){this.dispatchEvent(new CustomEvent(`${_}-error`,{bubbles:!0,composed:!0,detail:{error:t}}))}}};#c=()=>{this.disabled||this.noClick||this.#e?.click()};#s=t=>{this.disabled||this.noKeyboard||" "!==t.key&&"Enter"!==t.key||this.#e?.click()};#b(t){if(!Array.isArray(t)||!t.length)return;let e=[],n=[],i=t.length;if(!this.multiple&&i>1)for(let e of t)n.push({file:e,errors:[{code:R,message:"Too many files selected. Only 1 file is allowed."}]});else if(this.multiple&&i>this.maxFiles)for(let e of t)n.push({file:e,errors:[{code:R,message:`Too many files selected. Only ${this.maxFiles} ${this.maxFiles>1?"files are":"file is"} allowed.`}]});else for(let i of t){let t=function(t,e=""){if(!e)return!0;let n=[...new Set(e.split(",").map((t=>t.trim())).filter(Boolean))],i=t.type,o=i.replace(/\/.*$/,"");for(let e of n)if("."===e.charAt(0)){if(-1!==t.name.toLowerCase().indexOf(e.toLowerCase(),t.name.length-e.length))return!0}else if(/\/\*$/.test(e)){if(o===e.replace(/\/.*$/,""))return!0}else if(i===e)return!0;return!1}(i,this.accept),o=i.size>this.maxSize,s=i.size<this.minSize;if(!t||o||s){let e=[];t||e.push({code:"INVALID_MIME_TYPE",message:`File type "${i.type}" is not accepted.`}),o&&e.push({code:"FILE_TOO_LARGE",message:`File size ${i.size} exceeds the maximum size of ${this.maxSize}.`}),s&&e.push({code:"FILE_TOO_SMALL",message:`File size ${i.size} is smaller than the minimum size of ${this.minSize}.`}),n.push({file:i,errors:e})}else e.push(i)}this.dispatchEvent(new CustomEvent(`${_}-drop`,{bubbles:!0,composed:!0,detail:{acceptedFiles:e,rejectedFiles:n}})),e.length>0&&this.dispatchEvent(new CustomEvent(`${_}-drop-accepted`,{bubbles:!0,composed:!0,detail:{acceptedFiles:e}})),n.length>0&&this.dispatchEvent(new CustomEvent(`${_}-drop-rejected`,{bubbles:!0,composed:!0,detail:{rejectedFiles:n}})),this.#e&&(this.#e.value=this.#e.defaultValue)}openFileDialog(){this.disabled||this.#e?.click()}#i(t){if(Object.prototype.hasOwnProperty.call(this,t)){let e=this[t];delete this[t],this[t]=e}}static defineCustomElement(t=_){"undefined"==typeof window||window.customElements.get(t)||window.customElements.define(t,N)}}function O(t){return null!==t&&"object"==typeof t?"share"in navigator&&"canShare"in navigator&&navigator.canShare(t):"share"in navigator}var q,I;function j(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function $(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,j(t,e,"get"))}function B(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function D(t,e,n){B(t,e),e.set(t,n)}function F(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,j(t,e,"set"),n),n}function P(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function H(t,e){B(t,e),e.add(t)}N.defineCustomElement(),q={},I=function(){return X},Object.defineProperty(q,"ResizeObserverElement",{get:I,set:void 0,enumerable:!0,configurable:!0});const V=document.createElement("template"),U=String.raw;V.innerHTML=U`
  <style>:host { display: contents; }</style>
  <slot></slot>
`;var W=new WeakMap,K=new WeakMap,Z=new WeakMap,G=new WeakSet,Y=new WeakSet,J=new WeakMap,Q=new WeakSet;class X extends HTMLElement{static get observedAttributes(){return["disabled"]}attributeChangedCallback(t,e,n){"disabled"===t&&e!==n&&(this.disabled?P(this,Y,et).call(this):P(this,G,tt).call(this))}connectedCallback(){P(this,Q,nt).call(this,"disabled"),"ResizeObserver"in window&&(F(this,K,new ResizeObserver((t=>{this.dispatchEvent(new CustomEvent("resize-observer:resize",{bubbles:!0,composed:!0,detail:{entries:t}}))}))),this.disabled||P(this,G,tt).call(this),$(this,W).addEventListener("slotchange",$(this,J)))}disconnectedCallback(){P(this,Y,et).call(this),$(this,W).removeEventListener("slotchange",$(this,J))}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}static defineCustomElement(t="resize-observer"){"undefined"==typeof window||window.customElements.get(t)||window.customElements.define(t,X)}constructor(){super(),H(this,G),H(this,Y),H(this,Q),D(this,W,{writable:!0,value:void 0}),D(this,K,{writable:!0,value:void 0}),D(this,Z,{writable:!0,value:void 0}),D(this,J,{writable:!0,value:()=>{this.disabled||P(this,G,tt).call(this)}}),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(V.content.cloneNode(!0))),F(this,W,this.shadowRoot.querySelector("slot")),F(this,K,null),F(this,Z,[])}}function tt(){$(this,W)&&$(this,K)&&($(this,Z).forEach((t=>$(this,K).unobserve(t))),F(this,Z,[]),$(this,W).assignedElements().forEach((t=>{$(this,K).observe(t),$(this,Z).push(t)})))}function et(){$(this,K)&&$(this,K).disconnect()}function nt(t){if(Object.prototype.hasOwnProperty.call(this,t)){const e=this[t];delete this[t],this[t]=e}}X.defineCustomElement();let it,ot=(t,e,n)=>(Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Math.min(Math.max(t,Math.min(e,n)),Math.max(e,n))),st="capture-photo",rt=document.createElement("template");rt.innerHTML='\n  <style>\n  :host {\n    display: block;\n    box-sizing: border-box;\n  }\n\n  :host *,\n  :host *::before,\n  :host *::after {\n    box-sizing: inherit;\n  }\n\n  :host([hidden]),\n  [hidden],\n  ::slotted([hidden]) {\n    display: none;\n  }\n\n  video {\n    display: block;\n  }\n\n  #output:empty {\n    display: none;\n  }\n</style>\n\n  <video part="video" playsinline></video>\n\n  <canvas hidden></canvas>\n\n  <div part="actions-container">\n    <slot name="capture-button">\n      <button part="capture-button" type="button">\n        <slot name="capture-button-content">Capture photo</slot>\n      </button>\n    </slot>\n\n    <slot name="facing-mode-button" hidden>\n      <button part="facing-mode-button" type="button">\n        <slot name="facing-mode-button-content">Toggle facing mode</slot>\n      </button>\n    </slot>\n\n    <slot name="actions"></slot>\n  </div>\n\n  <slot></slot>\n\n  <div part="output-container" id="output"></div>\n';class at extends HTMLElement{#t={};#e=null;#r=null;#i=null;#l=null;#o=null;#n=null;#a=null;#s=null;constructor(){super(),this.#t=this.getSupportedConstraints(),this.shadowRoot||this.attachShadow({mode:"open"}).appendChild(rt.content.cloneNode(!0))}static get observedAttributes(){return["no-image","facing-mode","camera-resolution","pan","tilt","zoom"]}attributeChangedCallback(t,e,n){if(!this.isConnected)return;let i=this.getTrackCapabilities(),o=this.getTrackSettings();if("no-image"===t&&e!==n&&this.#p(),"facing-mode"===t&&e!==n&&"facingMode"in this.#t){let t=["user","environment"].includes(this.facingMode||"");"facingMode"in o&&t&&(this.stopVideoStream(),this.startVideoStream())}if("camera-resolution"===t&&e!==n&&"string"==typeof this.cameraResolution&&this.cameraResolution.trim().length>0){let[t=0,e=0]=this.cameraResolution.split("x").map((t=>Number(t)));if(t>0&&e>0&&"width"in i&&"height"in i){let n=!(!i.width?.min||!i.width?.max)&&t>=i?.width?.min&&t<=i?.width?.max,s=!(!i.height?.min||!i.height?.max)&&e>=i?.height?.min&&e<=i?.height?.max;"width"in o&&"height"in o&&n&&s&&(this.stopVideoStream(),this.startVideoStream())}}if("pan"===t&&e!==n&&"pan"in this.#t){let t=!!("pan"in i&&i.pan?.min&&i.pan?.max)&&this.pan>=i.pan.min&&this.pan<=i.pan.max;"pan"in o&&"number"==typeof this.pan&&t&&this.#h("pan",this.pan)}if("tilt"===t&&e!==n&&"tilt"in this.#t){let t=!!("tilt"in i&&i.tilt?.min&&i.tilt?.max)&&this.tilt>=i.tilt.min&&this.tilt<=i.tilt.max;"tilt"in o&&"number"==typeof this.tilt&&t&&this.#h("tilt",this.tilt)}if("zoom"===t&&e!==n&&"zoom"in this.#t){let t=!!("zoom"in i&&i.zoom?.min&&i.zoom?.max)&&this.zoom>=i.zoom.min&&this.zoom<=i.zoom.max;"zoom"in o&&"number"==typeof this.zoom&&t&&this.#h("zoom",this.zoom)}}connectedCallback(){if(this.#c("autpoPlay"),this.#c("noImage"),this.#c("facingMode"),this.#c("cameraResolution"),this.#c("pan"),this.#c("tilt"),this.#c("zoom"),this.#c("calculateFileSize"),this.#r=this.shadowRoot?.querySelector("canvas")||null,this.#i=this.shadowRoot?.getElementById("output")||null,this.#l=this.shadowRoot?.querySelector("video")||null,this.#o=this.shadowRoot?.querySelector('slot[name="capture-button"]')||null,this.#n=this.#d(),this.#a=this.shadowRoot?.querySelector('slot[name="facing-mode-button"]')||null,this.#s=this.#g(),this.#l?.addEventListener("loadedmetadata",this.#b),this.#o?.addEventListener("slotchange",this.#m),this.#n?.addEventListener("click",this.#u),this.#a?.addEventListener("slotchange",this.#v),this.#s?.addEventListener("click",this.#f),!at.isSupported())return this.dispatchEvent(new CustomEvent(`${st}:error`,{bubbles:!0,composed:!0,detail:{error:{name:"NotSupportedError",message:"Not supported"}}}));this.autoPlay&&this.startVideoStream()}disconnectedCallback(){this.stopVideoStream(),this.#s?.removeEventListener("click",this.#f),this.#n?.removeEventListener("click",this.#u),this.#l?.removeEventListener("canplay",this.#b),this.#o?.removeEventListener("slotchange",this.#m),this.#a?.removeEventListener("slotchange",this.#v)}get autoPlay(){return this.hasAttribute("auto-play")}set autoPlay(t){this.toggleAttribute("auto-play",!!t)}get noImage(){return this.hasAttribute("no-image")}set noImage(t){this.toggleAttribute("no-image",!!t)}get facingMode(){return this.getAttribute("facing-mode")||"user"}set facingMode(t){this.setAttribute("facing-mode",t)}get cameraResolution(){return this.getAttribute("camera-resolution")||""}set cameraResolution(t){this.setAttribute("camera-resolution",t)}get pan(){return Number(this.getAttribute("pan"))||0}set pan(t){this.setAttribute("pan",null!=t?t.toString():t)}get tilt(){return Number(this.getAttribute("tilt"))||0}set tilt(t){this.setAttribute("tilt",null!=t?t.toString():t)}get zoom(){return Number(this.getAttribute("zoom"))||1}set zoom(t){this.setAttribute("zoom",null!=t?t.toString():t)}get loading(){return this.hasAttribute("loading")}get calculateFileSize(){return this.hasAttribute("calculate-file-size")}set calculateFileSize(t){this.toggleAttribute("calculate-file-size",!!t)}#f=t=>{t.preventDefault(),this.loading||(this.facingMode="user"!==this.facingMode&&this.facingMode?"user":"environment")};#u=t=>{t.preventDefault(),this.capture()};#b=t=>{let e=t.target;e.play().then((()=>{this.dispatchEvent(new CustomEvent(`${st}:video-play`,{bubbles:!0,composed:!0,detail:{video:e}}))})).catch((t=>{this.dispatchEvent(new CustomEvent(`${st}:error`,{bubbles:!0,composed:!0,detail:{error:t}}))})).finally((()=>{this.removeAttribute("loading")}))};#p(){this.#i&&Array.from(this.#i.childNodes).forEach((t=>t.remove()))}#h(t,e){if(!this.#e||!t||!e)return;let[n]=this.#e.getVideoTracks(),i=this.getTrackCapabilities();t in this.getTrackSettings()&&n.applyConstraints({advanced:[{[t]:ot(Number(e),i[t]?.min||1,i[t]?.max||1)}]})}#m=t=>{"capture-button"===t.target?.name&&(this.#n?.removeEventListener("click",this.#u),this.#n=this.#d(),this.#n&&(this.#n.addEventListener("click",this.#u),"BUTTON"===this.#n.nodeName||this.#n.hasAttribute("role")||this.#n.setAttribute("role","button")))};#v=t=>{"facing-mode-button"===t.target?.name&&(this.#s?.removeEventListener("click",this.#f),this.#s=this.#g(),this.#s&&(this.#s.addEventListener("click",this.#f),"BUTTON"===this.#s.nodeName||this.#s.hasAttribute("role")||this.#s.setAttribute("role","button")))};#g(){return this.#a&&this.#a.assignedElements({flatten:!0}).find((t=>"BUTTON"===t.nodeName||"facing-mode-button"===t.getAttribute("slot")))||null}#d(){return this.#o&&this.#o.assignedElements({flatten:!0}).find((t=>"BUTTON"===t.nodeName||"capture-button"===t.getAttribute("slot")))||null}#c(t){if(Object.prototype.hasOwnProperty.call(this,t)){let e=this[t];delete this[t],this[t]=e}}async startVideoStream(){if(!at.isSupported()||this.#e)return;this.setAttribute("loading","");let t={video:{facingMode:{ideal:this.facingMode||"user"},pan:!0,tilt:!0,zoom:!0},audio:!1};if("string"==typeof this.cameraResolution&&this.cameraResolution.trim().length>0){let[e=0,n=0]=this.cameraResolution.split("x").map((t=>Number(t)));e>0&&n>0&&(t.video.width=e,t.video.height=n)}try{this.#e=await navigator.mediaDevices.getUserMedia(t),this.#l&&(this.#l.srcObject=this.#e),this.#h("pan",this.pan),this.#h("tilt",this.tilt),this.#h("zoom",this.zoom),"facingMode"in this.getTrackSettings()&&this.#a&&(this.#a.hidden=!1)}catch(t){this.dispatchEvent(new CustomEvent(`${st}:error`,{bubbles:!0,composed:!0,detail:{error:t}}))}finally{this.removeAttribute("loading")}}stopVideoStream(){if(!this.#l||!this.#e)return;let[t]=this.#e.getVideoTracks();t?.stop(),this.#l.srcObject=null,this.#e=null}async capture(){if(!this.loading&&this.#r&&this.#l)try{let t=this.#r.getContext("2d"),e=this.#l.videoWidth,n=this.#l.videoHeight;this.#r.width=e,this.#r.height=n,t?.drawImage(this.#l,0,0,e,n);let i=this.#r.toDataURL("image/png");if("string"==typeof i&&i.includes("data:image")){if(!this.noImage){let t=new Image;t.src=i,t.width=e,t.height=n,t.setAttribute("part","output-image"),this.#p(),this.#i?.appendChild(t)}let t={dataURI:i,width:e,height:n};if(this.calculateFileSize)try{let e=await fetch(i),n=(await e.blob()).size;n&&(t.size=n)}catch(t){}this.dispatchEvent(new CustomEvent(`${st}:success`,{bubbles:!0,composed:!0,detail:t}))}}catch(t){this.dispatchEvent(new CustomEvent(`${st}:error`,{bubbles:!0,composed:!0,detail:{error:t}}))}}getSupportedConstraints(){return at.isSupported()&&navigator.mediaDevices.getSupportedConstraints()||{}}getTrackCapabilities(){if(!this.#e)return{};let[t]=this.#e.getVideoTracks();return t&&"function"==typeof t.getCapabilities&&t.getCapabilities()||{}}getTrackSettings(){if(!this.#e)return{};let[t]=this.#e.getVideoTracks();return t&&"function"==typeof t.getSettings&&t.getSettings()||{}}static isSupported(){return!!navigator.mediaDevices?.getUserMedia}static defineCustomElement(t=st){"undefined"==typeof window||window.customElements.get(t)||window.customElements.define(t,at)}}function lt(t){return new Promise(((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)}))}function dt(){return it||(it=function(t,e){const n=indexedDB.open("keyval-store");n.onupgradeneeded=()=>n.result.createObjectStore(e);const i=lt(n);return(t,n)=>i.then((i=>n(i.transaction(e,t).objectStore(e))))}(0,"keyval")),it}function ct(t,e=dt()){return e("readonly",(e=>lt(e.get(t))))}const ht="barcode-scanner/",ut="settings",pt="history",bt=async t=>{try{return{value:await ct(t),error:void 0}}catch(t){return{value:void 0,error:t}}},mt=async(t,e)=>{try{return await function(t,e,n=dt()){return n("readwrite",(n=>(n.put(e,t),lt(n.transaction))))}(t,e),{error:void 0}}catch(t){return{error:t}}},gt=async()=>bt(ht+ut),ft=async()=>bt(ht+pt),vt=async t=>mt(ht+pt,t),wt=document.getElementById("toastContainer"),yt=t=>{const e=t.currentTarget;e.removeEventListener("click",yt),wt.removeChild(e.parentNode)};let Et="clipboard-copy",At="success",xt="error",kt=document.createElement("template");kt.innerHTML='\n  <style>\n    :host([hidden]),\n    [hidden],\n    ::slotted([hidden]) {\n      display: none !important;\n    }\n  </style>\n\n  <button type="button" part="button">\n    <slot name="copy">Copy</slot>\n    <slot name="success" hidden>Copied!</slot>\n    <slot name="error" hidden>Error</slot>\n  </button>\n';class zt extends HTMLElement{#t=null;#e;#i;#n;#r;constructor(){super(),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(kt.content.cloneNode(!0))),this.#e=this.shadowRoot.querySelector("button"),this.#i=this.shadowRoot.querySelector('slot[name="copy"]'),this.#n=this.shadowRoot.querySelector('slot[name="success"]'),this.#r=this.shadowRoot.querySelector('slot[name="error"]')}static get observedAttributes(){return["disabled"]}connectedCallback(){this.#a("value"),this.#a("from"),this.#a("disabled"),this.#a("feedbackDuration"),this.#e.addEventListener("click",this.#l)}disconnectedCallback(){this.#e.removeEventListener("click",this.#l),this.#o()}attributeChangedCallback(t){"disabled"===t&&(this.#e.disabled=this.disabled,this.#e.setAttribute("aria-disabled",this.disabled.toString()),this.#e.part.contains("button")&&this.#e.part.toggle("button--disabled",this.disabled))}get value(){return this.getAttribute("value")}set value(t){this.setAttribute("value",t)}get from(){return this.getAttribute("from")}set from(t){this.setAttribute("from",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get feedbackDuration(){return Number(this.getAttribute("feedback-duration"))||1e3}set feedbackDuration(t){this.setAttribute("feedback-duration",t)}async#s(){if(this.value||this.from)try{let t="";if(this.value)t=this.value;else if(this.from){let e="getRootNode"in Element.prototype?this.#e.getRootNode({composed:!0}):this.#e.ownerDocument;if(!e||!(e instanceof Document||e instanceof ShadowRoot))return;let n=e.querySelector(this.from);if(!n)return;t=n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement?n.value:n instanceof HTMLAnchorElement&&n.hasAttribute("href")?n.href:n.textContent}await navigator.clipboard.writeText(t),this.#c(At),this.dispatchEvent(new CustomEvent(`${Et}-success`,{bubbles:!0,composed:!0,detail:{value:t}}))}catch(t){this.#c(xt),this.dispatchEvent(new CustomEvent(`${Et}-error`,{bubbles:!0,composed:!0,detail:{error:t}}))}}#l=t=>{t.preventDefault(),this.disabled||this.#t||this.#s()};#c(t){this.#i.hidden=!0,this.#n.hidden=t!==At,this.#r.hidden=t!==xt,this.#e.part.remove("button--success"),this.#e.part.remove("button--error"),this.#e.part.add(`button--${t}`),this.#t&&clearTimeout(this.#t),this.#t=setTimeout((()=>{this.#i.hidden=!1,this.#n.hidden=!0,this.#r.hidden=!0,this.#e.part.remove(`button--${t}`),this.#t=null}),this.feedbackDuration)}#o(){this.#t&&clearTimeout(this.#t),this.#t=null,this.#i.hidden=!1,this.#n.hidden=!0,this.#r.hidden=!0,this.#e.part.remove("button--success"),this.#e.part.remove("button--error")}#a(t){if(Object.prototype.hasOwnProperty.call(this,t)){let e=this[t];delete this[t],this[t]=e}}static defineCustomElement(t=Et){"undefined"==typeof window||window.customElements.get(t)||window.customElements.define(t,zt)}}class Ct extends zt{constructor(){super();const t=this.shadowRoot.querySelector('slot[name="copy"]'),e=this.shadowRoot.querySelector('slot[name="success"]');t.innerHTML='\n      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">\n        <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>\n        <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>\n      </svg>\n      <span class="text">Copy</span>\n    ',e.innerHTML='\n      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check" viewBox="0 0 16 16">\n        <path fill-rule="evenodd" d="M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0z"/>\n        <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>\n        <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>\n      </svg>\n      <span class="text">Copied!</span>\n    '}static get observedAttributes(){return[...super.observedAttributes,"only-icon"]}attributeChangedCallback(t,e,n){if(super.attributeChangedCallback(t,e,n),"only-icon"===t&&e!==n){const t=this.shadowRoot.querySelector('slot[name="copy"]'),e=this.shadowRoot.querySelector('slot[name="success"]'),n=t.querySelector(".text"),i=e.querySelector(".text");n&&(n.hidden=this.onlyIcon),i&&(i.hidden=this.onlyIcon)}}get onlyIcon(){return this.hasAttribute("only-icon")}set onlyIcon(t){t?this.setAttribute("only-icon",""):this.removeAttribute("only-icon")}connectedCallback(){super.connectedCallback(),this.#C("onlyIcon"),this.hasAttribute("feedback-duration")||this.setAttribute("feedback-duration","1500")}disconnectedCallback(){super.disconnectedCallback()}#C(t){if(Object.prototype.hasOwnProperty.call(this,t)){const e=this[t];delete this[t],this[t]=e}}static defineCustomElement(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"custom-clipboard-copy";"undefined"==typeof window||window.customElements.get(t)||window.customElements.define(t,Ct)}}Ct.defineCustomElement(),async function(){const t="No barcode detected",e=document.querySelector("a-tab-group"),n=document.getElementById("cameraPanel"),i=document.querySelector("capture-photo"),s=document.getElementById("cameraResults"),r=document.getElementById("fileResults"),a=document.getElementById("scanInstructions"),l=document.getElementById("scanBtn"),d=document.getElementById("dropzone"),c=document.querySelector("resize-observer"),h=document.getElementById("scanFrame"),u=document.getElementById("globalActions"),p=document.getElementById("historyBtn"),b=document.getElementById("historyDialog"),m=document.getElementById("historyList"),g=document.getElementById("deleteHistoryBtn"),f=document.getElementById("settingsBtn"),v=document.getElementById("settingsDialog"),w=document.forms["settings-form"],y=document.getElementById("supportedFormats");let E,A=!0;if("BarcodeDetector"in window);else try{await o.e(763).then(o.bind(o,763))}catch(t){return u.hidden=!0,e.style.display="none",function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";["info","warning","danger"].includes(e)||(e="info");const n=`\n    ${t}\n    <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n      <span aria-hidden="true">&times;</span>\n    </button>\n  `,i=document.createElement("div");i.className=`alert alert-${e} alert-dismissible text-break`,i.innerHTML=n,i.querySelector("button").addEventListener("click",yt),wt.appendChild(i),setTimeout((()=>i.classList.add("show")),100)}("BarcodeDetector API is not supported by your browser.","danger")}O()||document.querySelectorAll("web-share").forEach((t=>{t.hidden=!0,t.disabled=!0}));const{value:x=[]}=await ft();L(x),i.addEventListener("capture-photo:video-play",(t=>{h.hidden=!1,M(t.detail.video),j();const e=i.getTrackSettings(),n=i.getTrackCapabilities(),o=document.getElementById("zoomLevel");if(e?.zoom&&n?.zoom){const t=document.getElementById("zoomControls"),s=n?.zoom?.min||0,r=n?.zoom?.max||10;let a=e?.zoom||1;t.hidden=!1,o.textContent=a,t.addEventListener("click",(t=>{const e=t.target.closest('[data-action="zoom-in"]'),n=t.target.closest('[data-action="zoom-out"]');e&&a<r&&(a+=.5),n&&a>s&&(a-=.5),o.textContent=a,i.zoom=a}))}}),{once:!0}),i.addEventListener("capture-photo:error",(t=>{const e=t.detail.error;if("NotFoundError"===e.name)return;const i="NotAllowedError"===e.name?"Permission to use webcam was denied or video Autoplay is disabled. Reload the page to give appropriate permissions to webcam.":e.message;n.innerHTML=`<div class="alert alert-danger" role="alert" style="margin: 0;">${i}</div>`}),{once:!0}),at.defineCustomElement(),d.accept=["image/jpg","image/jpeg","image/png","image/apng","image/gif","image/webp","image/avif"].join(",");const k=i.shadowRoot.querySelector("video"),z=await window.BarcodeDetector.getSupportedFormats(),C=new window.BarcodeDetector({formats:z}),{value:S={}}=await gt();Object.entries(S).forEach((t=>{let[e,n]=t;const i=w.querySelector(`[name="${e}"]`);i&&(i.checked=n)})),Array.isArray(z)&&z.length>0&&(y.textContent=`Supported formats: ${z.join(", ")}`);const T=(()=>{const t=new(window.AudioContext||window.webkitAudioContext||window.audioContext);if(t)return async(e,n,i,o,s)=>{const{value:r}=await gt();if(!r?.beep)return;const a=t.createOscillator(),l=t.createGain();a.connect(l),l.connect(t.destination),i&&(l.gain.value=i),n&&(a.frequency.value=n),o&&(a.type=o),"function"==typeof s&&(a.onended=s),a.start(t.currentTime),a.stop(t.currentTime+(e||500)/1e3)}})();function L(t){m.innerHTML="",Array.isArray(t)&&t.length?(g.style.display="block",t.forEach((t=>{const e=document.createElement("li");let n;e.setAttribute("data-value",t);try{new URL(t),n=document.createElement("a"),n.href=t,n.setAttribute("target","_blank"),n.setAttribute("rel","noreferrer noopener")}catch(t){n=document.createElement("span")}n.textContent=t,n.setAttribute("title",t);const i=document.createElement("div");i.className="history-modal__actions";const o=document.createElement("custom-clipboard-copy");o.title="Copy to clipboard",o.setAttribute("only-icon",""),o.setAttribute("value",t),i.appendChild(o);const s=document.createElement("button");s.type="button",s.className="history-modal__delete-action",s.title="Remove from history",s.setAttribute("data-action","delete"),s.innerHTML='\n          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3-fill" viewBox="0 0 16 16">\n            <path d="M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5Zm-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5ZM4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06Zm6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528ZM8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5Z"/>\n          </svg>\n        ',i.appendChild(s),e.appendChild(n),e.appendChild(i),m.appendChild(e)}))):(m.innerHTML="<li class=>There are no saved items in history.</li>",g.style.display="none")}async function _(t){const{value:e}=await gt();if(!t||!e?.addToHistory)return;const{value:n=[],error:i}=await ft();if(!i&&!n.find((e=>e===t))){const e=[...n,t],{error:i}=await vt(e);i||L(e)}}async function R(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;const{value:e}=await gt();if("function"==typeof window.navigator.vibrate&&e?.vibrate)try{window.navigator.vibrate(t)}catch{}}function M(t){if(!t)return;const e=t.getBoundingClientRect();h.style.cssText=`width: ${e.width}px; height: ${e.height}px`}function N(t){t?.querySelector(".results__item")?.remove()}async function q(e,n){if(!e||!n)return;let i;N(n);try{const{value:t}=await gt();new URL(e),i=document.createElement("a"),i.href=e,t?.openWebPageSameTab||(i.setAttribute("target","_blank"),i.setAttribute("rel","noreferrer noopener")),t?.openWebPage&&i.click()}catch(t){i=document.createElement("span")}i.className="results__item",i.classList.toggle("results__item--no-barcode",e===t),i.textContent=e,n.insertBefore(i,n.querySelector(".results__actions"));const o=n.querySelector("custom-clipboard-copy"),s=n.querySelector("web-share"),r=e!==t;o&&(o.disabled=!r,o.hidden=!r),s&&O()&&(s.disabled=!r,s.hidden=!r,r?s.setAttribute("share-text",e):s.removeAttribute("share-text")),n.show()}function I(t){return new Promise(((e,n)=>{C.detect(t).then((t=>{Array.isArray(t)&&t.length>0?e(t[0]):n({message:"Could not detect barcode from provided source."})})).catch((t=>{n(t)}))}))}async function j(){a.hidden=!1;try{let t={};return t=await I(k),window.cancelAnimationFrame(E),N(s),q(t.rawValue,s),_(t.rawValue),a.hidden=!0,l.hidden=!1,h.hidden=!0,T(200,860,.03,"square"),void R()}catch(t){}A&&(E=window.requestAnimationFrame((()=>j())))}l.addEventListener("click",(()=>{l.hidden=!0,h.hidden=!1,N(s),s.close(),j()})),e.addEventListener("a-tab-show",function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=null;if("function"!=typeof t)throw new TypeError("Expected a function for first argument");return function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];clearTimeout(i),n&&!i&&t(...s),i=setTimeout((()=>{i=null,n||t(...s)}),e)}}((t=>{const e=t.detail.tabId;if("cameraTab"===e){A=!0;const t=document.querySelector("capture-photo");!t||t.loading||s.querySelector(".results__item")||j(),null!=t&&"function"==typeof t.startVideoStream&&t.startVideoStream()}"fileTab"===e&&(A=!1,null!=i&&"function"==typeof i.stopVideoStream&&i.stopVideoStream())}),250)),d.addEventListener("files-dropzone-drop",(e=>{!function(e){if(!e)return;const n=new Image,i=new FileReader;i.onload=i=>{const o=i.target.result;n.onload=async()=>{try{const t=await I(n);N(r),q(t.rawValue,r),_(t.rawValue),T(200,860,.03,"square"),R()}catch(e){N(r),q(t,r)}},n.src=o,d.replaceChildren();const s=document.createElement("div");s.className="dropzone-preview";const a=document.createElement("div");a.className="dropzone-preview__image-wrapper";const l=document.createElement("div");l.className="dropzone-preview__file-name",l.textContent=e.name,a.appendChild(n),s.appendChild(a),s.appendChild(l),d.prepend(s)},i.readAsDataURL(e)}(e.detail.acceptedFiles[0])})),c.addEventListener("resize-observer:resize",(()=>{M(i.shadowRoot.querySelector("video"))})),f.addEventListener("click",(()=>{v.showModal()})),p.addEventListener("click",(()=>{b.showModal()})),b.addEventListener("click",(t=>{t.target===t.currentTarget&&b.close()})),v.addEventListener("click",(t=>{t.target===t.currentTarget&&v.close()})),w.addEventListener("change",(t=>{const e={};t.currentTarget.querySelectorAll('input[type="checkbox"]').forEach((t=>e[t.name]=t.checked)),(async t=>{mt(ht+ut,t)})(e)})),m.addEventListener("click",(t=>{const e=t.target;e.closest('[data-action="delete"]')&&window.confirm("Delete item from history?")&&async function(t){if(!t)return;const{value:e=[],error:n}=await ft();if(!n){const n=e.filter((e=>e!==t)),{error:i}=await vt(n);i||L(n)}}(e.closest("li").dataset.value)})),g.addEventListener("click",(()=>{window.confirm("Are you sure you want to empty history?")&&async function(){const{error:t}=await vt([]);t||L([])}()}))}()}();