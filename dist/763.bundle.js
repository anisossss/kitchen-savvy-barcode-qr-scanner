"use strict";(self.webpackChunkkitchensavvy_barcodeqr_scanner=self.webpackChunkkitchensavvy_barcodeqr_scanner||[]).push([[763],{763:function(t,e,r){r.r(e),r.d(e,{BarcodeDetector:function(){return H},setZXingModuleOverrides:function(){return R}});var n=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},a=(t,e,r)=>(n(t,e,"read from private field"),r?r.call(t):e.get(t));const o=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"]],i=[...o,["unknown"]].map((t=>t[0])),s=new Map(o);function u(t){for(const[e,r]of s)if(t===r)return e;return"unknown"}function c(t){try{return t instanceof HTMLImageElement}catch{return!1}}function l(t){try{return t instanceof SVGImageElement}catch{return!1}}function d(t){try{return t instanceof HTMLVideoElement}catch{return!1}}function h(t){try{return t instanceof HTMLCanvasElement}catch{return!1}}function f(t){try{return t instanceof ImageBitmap}catch{return!1}}function p(t){try{return t instanceof OffscreenCanvas}catch{return!1}}function v(t){try{return t instanceof VideoFrame}catch{return!1}}function m(t){try{return t instanceof Blob}catch{return!1}}async function y(t){if(c(t)&&!await async function(t){try{return await t.decode(),!0}catch{return!1}}(t))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(l(t)&&!await async function(t){var e;try{return await(null==(e=t.decode)?void 0:e.call(t)),!0}catch{return!1}}(t))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(v(t)&&function(t){return null===t.format}(t))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(d(t)&&(0===t.readyState||1===t.readyState))throw new DOMException("Invalid element or state.","InvalidStateError");if(f(t)&&function(t){return 0===t.width&&0===t.height}(t))throw new DOMException("The image source is detached.","InvalidStateError");const{width:e,height:r}=function(t){if(c(t))return{width:t.naturalWidth,height:t.naturalHeight};if(l(t))return{width:t.width.baseVal.value,height:t.height.baseVal.value};if(d(t))return{width:t.videoWidth,height:t.videoHeight};if(f(t))return{width:t.width,height:t.height};if(v(t))return{width:t.displayWidth,height:t.displayHeight};if(h(t))return{width:t.width,height:t.height};if(p(t))return{width:t.width,height:t.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}(t);if(0===e||0===r)return null;const n=function(t,e){try{const r=new OffscreenCanvas(t,e);if(r.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return r;throw void 0}catch{const r=document.createElement("canvas");return r.width=t,r.height=e,r}}(e,r).getContext("2d");n.drawImage(t,0,0);try{return n.getImageData(0,0,e,r)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}function g(t,e){return t instanceof DOMException?new DOMException(`${e}: ${t.message}`,t.name):t instanceof Error?new t.constructor(`${e}: ${t.message}`):new Error(`${e}: ${t}`)}const w=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","DXFilmEdge","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","rMQRCode","UPC-A","UPC-E"];function $(t){return t.join("|")}function b(t){const e=C(t);let r=0,n=w.length-1;for(;r<=n;){const t=Math.floor((r+n)/2),a=w[t],o=C(a);if(o===e)return a;o<e?r=t+1:n=t-1}return"None"}function C(t){return t.toLowerCase().replace(/_-\[\]/g,"")}function _(t,e){return t.Binarizer[e]}function T(t,e){return t.CharacterSet[e]}const P=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function E(t){return P[t.value]}function A(t,e){return t.EanAddOnSymbol[e]}function O(t,e){return t.TextMode[e]}const S={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!1,validateCode39CheckSum:!1,validateITFCheckSum:!1,returnCodabarStartEnd:!1,returnErrors:!1,eanAddOnSymbol:"Read",textMode:"Plain",characterSet:"Unknown"};function x(t,e){return{...e,formats:$(e.formats),binarizer:_(t,e.binarizer),eanAddOnSymbol:A(t,e.eanAddOnSymbol),textMode:O(t,e.textMode),characterSet:T(t,e.characterSet)}}function D(t){return{...t,format:b(t.format),eccLevel:t.eccLevel,contentType:E(t.contentType)}}const F={locateFile:(t,e)=>{const r=t.match(/_(.+?)\.wasm$/);return r?`https://fastly.jsdelivr.net/npm/zxing-wasm@1.1.3/dist/${r[1]}/${t}`:e+t}};let M=new WeakMap;function j(t,e){var r;const n=M.get(t);if(null!=n&&n.modulePromise&&(void 0===e||Object.is(e,n.moduleOverrides)))return n.modulePromise;const a=null!=(r=null!=e?e:null==n?void 0:n.moduleOverrides)?r:F,o=t({...a});return M.set(t,{moduleOverrides:a,modulePromise:o}),o}var W,I,k=(W=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(t={}){var e,r,n=t;n.ready=new Promise(((t,n)=>{e=t,r=n}));var a=Object.assign({},n),o="./this.program",i="object"==typeof window,s="function"==typeof importScripts;"object"==typeof process&&"object"==typeof process.versions&&process.versions.node;var u,c="";(i||s)&&(s?c=self.location.href:typeof document<"u"&&document.currentScript&&(c=document.currentScript.src),W&&(c=W),c=0!==c.indexOf("blob:")?c.substr(0,c.replace(/[?#].*/,"").lastIndexOf("/")+1):"",s&&(u=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)})),n.print||console.log.bind(console);var l,d=n.printErr||console.error.bind(console);Object.assign(n,a),a=null,n.arguments&&n.arguments,n.thisProgram&&(o=n.thisProgram),n.quit&&n.quit,n.wasmBinary&&(l=n.wasmBinary),"object"!=typeof WebAssembly&&O("no native wasm support detected");var h,f,p,v,m,y,g,w,$,b=!1;function C(){var t=h.buffer;n.HEAP8=f=new Int8Array(t),n.HEAP16=v=new Int16Array(t),n.HEAPU8=p=new Uint8Array(t),n.HEAPU16=m=new Uint16Array(t),n.HEAP32=y=new Int32Array(t),n.HEAPU32=g=new Uint32Array(t),n.HEAPF32=w=new Float32Array(t),n.HEAPF64=$=new Float64Array(t)}var _=[],T=[],P=[],E=0,A=null;function O(t){var e;null===(e=n.onAbort)||void 0===e||e.call(n,t),d(t="Aborted("+t+")"),b=!0,t+=". Build with -sASSERTIONS for more info.";var a=new WebAssembly.RuntimeError(t);throw r(a),a}var S,x,D=t=>t.startsWith("data:application/octet-stream;base64,");function F(t){if(t==S&&l)return new Uint8Array(l);if(u)return u(t);throw"both async and sync fetching of the wasm failed"}function M(t,e,r){return function(t){return l||!i&&!s||"function"!=typeof fetch?Promise.resolve().then((()=>F(t))):fetch(t,{credentials:"same-origin"}).then((e=>{if(!e.ok)throw"failed to load wasm binary file at '"+t+"'";return e.arrayBuffer()})).catch((()=>F(t)))}(t).then((t=>WebAssembly.instantiate(t,e))).then((t=>t)).then(r,(t=>{d(`failed to asynchronously prepare wasm: ${t}`),O(t)}))}D(S="zxing_reader.wasm")||(x=S,S=n.locateFile?n.locateFile(x,c):c+x);var j=t=>{for(;t.length>0;)t.shift()(n)};n.noExitRuntime;var I=[],k=0,R=0;function H(t){this.excPtr=t,this.ptr=t-24,this.set_type=function(t){g[this.ptr+4>>2]=t},this.get_type=function(){return g[this.ptr+4>>2]},this.set_destructor=function(t){g[this.ptr+8>>2]=t},this.get_destructor=function(){return g[this.ptr+8>>2]},this.set_caught=function(t){t=t?1:0,f[this.ptr+12|0]=t},this.get_caught=function(){return 0!=f[this.ptr+12|0]},this.set_rethrown=function(t){t=t?1:0,f[this.ptr+13|0]=t},this.get_rethrown=function(){return 0!=f[this.ptr+13|0]},this.init=function(t,e){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(e)},this.set_adjusted_ptr=function(t){g[this.ptr+16>>2]=t},this.get_adjusted_ptr=function(){return g[this.ptr+16>>2]},this.get_exception_ptr=function(){if(Te(this.get_type()))return g[this.excPtr>>2];var t=this.get_adjusted_ptr();return 0!==t?t:this.excPtr}}var U=t=>{var e=R;if(!e)return ge(0),0;var r=new H(e);r.set_adjusted_ptr(e);var n=r.get_type();if(!n)return ge(0),e;for(var a in t){var o=t[a];if(0===o||o===n)break;var i=r.ptr+16;if(_e(o,n,i))return ge(o),e}return ge(n),e},B={},V=t=>{for(;t.length;){var e=t.pop();t.pop()(e)}};function L(t){return this.fromWireType(y[t>>2])}var z,Y,N,q={},G={},Q={},X=t=>{throw new z(t)},J=(t,e,r)=>{function n(e){var n=r(e);n.length!==t.length&&X("Mismatched type converter count");for(var a=0;a<t.length;++a)tt(t[a],n[a])}t.forEach((function(t){Q[t]=e}));var a=new Array(e.length),o=[],i=0;e.forEach(((t,e)=>{G.hasOwnProperty(t)?a[e]=G[t]:(o.push(t),q.hasOwnProperty(t)||(q[t]=[]),q[t].push((()=>{a[e]=G[t],++i===o.length&&n(a)})))})),0===o.length&&n(a)},Z=t=>{for(var e="",r=t;p[r];)e+=Y[p[r++]];return e},K=t=>{throw new N(t)};function tt(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");return function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=e.name;if(t||K(`type "${n}" must have a positive integer typeid pointer`),G.hasOwnProperty(t)){if(r.ignoreDuplicateRegistrations)return;K(`Cannot register type '${n}' twice`)}if(G[t]=e,delete Q[t],q.hasOwnProperty(t)){var a=q[t];delete q[t],a.forEach((t=>t()))}}(t,e,r)}var et,rt=t=>({count:t.count,deleteScheduled:t.deleteScheduled,preservePointerOnDelete:t.preservePointerOnDelete,ptr:t.ptr,ptrType:t.ptrType,smartPtr:t.smartPtr,smartPtrType:t.smartPtrType}),nt=t=>{K(t.$$.ptrType.registeredClass.name+" instance already deleted")},at=!1,ot=t=>{},it=t=>{t.count.value-=1,0===t.count.value&&(t=>{t.smartPtr?t.smartPtrType.rawDestructor(t.smartPtr):t.ptrType.registeredClass.rawDestructor(t.ptr)})(t)},st=(t,e,r)=>{if(e===r)return t;if(void 0===r.baseClass)return null;var n=st(t,e,r.baseClass);return null===n?null:r.downcast(n)},ut={},ct=[],lt=()=>{for(;ct.length;){var t=ct.pop();t.$$.deleteScheduled=!1,t.delete()}},dt={},ht=(t,e)=>((!e.ptrType||!e.ptr)&&X("makeClassHandle requires ptr and ptrType"),!!e.smartPtrType!=!!e.smartPtr&&X("Both smartPtrType and smartPtr must be specified"),e.count={value:1},ft(Object.create(t,{$$:{value:e,writable:!0}})));var ft=t=>typeof FinalizationRegistry>"u"?(ft=t=>t,t):(at=new FinalizationRegistry((t=>{it(t.$$)})),ot=t=>at.unregister(t),(ft=t=>{var e=t.$$;if(e.smartPtr){var r={$$:e};at.register(t,r,t)}return t})(t));function pt(){}var vt=(t,e)=>Object.defineProperty(e,"name",{value:t}),mt=(t,e,r)=>{if(void 0===t[e].overloadTable){var n=t[e];t[e]=function(){return t[e].overloadTable.hasOwnProperty(arguments.length)||K(`Function '${r}' called with an invalid number of arguments (${arguments.length}) - expects one of (${t[e].overloadTable})!`),t[e].overloadTable[arguments.length].apply(this,arguments)},t[e].overloadTable=[],t[e].overloadTable[n.argCount]=n}},yt=(t,e,r)=>{n.hasOwnProperty(t)?((void 0===r||void 0!==n[t].overloadTable&&void 0!==n[t].overloadTable[r])&&K(`Cannot register public name '${t}' twice`),mt(n,t,t),n.hasOwnProperty(r)&&K(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),n[t].overloadTable[r]=e):(n[t]=e,void 0!==r&&(n[t].numArguments=r))};function gt(t,e,r,n,a,o,i,s){this.name=t,this.constructor=e,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=a,this.getActualType=o,this.upcast=i,this.downcast=s,this.pureVirtualFunctions=[]}var wt=(t,e,r)=>{for(;e!==r;)e.upcast||K(`Expected null or instance of ${r.name}, got an instance of ${e.name}`),t=e.upcast(t),e=e.baseClass;return t};function $t(t,e){if(null===e)return this.isReference&&K(`null is not a valid ${this.name}`),0;e.$$||K(`Cannot pass "${Vt(e)}" as a ${this.name}`),e.$$.ptr||K(`Cannot pass deleted object as a pointer of type ${this.name}`);var r=e.$$.ptrType.registeredClass;return wt(e.$$.ptr,r,this.registeredClass)}function bt(t,e){var r;if(null===e)return this.isReference&&K(`null is not a valid ${this.name}`),this.isSmartPointer?(r=this.rawConstructor(),null!==t&&t.push(this.rawDestructor,r),r):0;(!e||!e.$$)&&K(`Cannot pass "${Vt(e)}" as a ${this.name}`),e.$$.ptr||K(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&e.$$.ptrType.isConst&&K(`Cannot convert argument of type ${e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name} to parameter type ${this.name}`);var n=e.$$.ptrType.registeredClass;if(r=wt(e.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===e.$$.smartPtr&&K("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:e.$$.smartPtrType===this?r=e.$$.smartPtr:K(`Cannot convert argument of type ${e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=e.$$.smartPtr;break;case 2:if(e.$$.smartPtrType===this)r=e.$$.smartPtr;else{var a=e.clone();r=this.rawShare(r,Ht.toHandle((()=>a.delete()))),null!==t&&t.push(this.rawDestructor,r)}break;default:K("Unsupporting sharing policy")}return r}function Ct(t,e){if(null===e)return this.isReference&&K(`null is not a valid ${this.name}`),0;e.$$||K(`Cannot pass "${Vt(e)}" as a ${this.name}`),e.$$.ptr||K(`Cannot pass deleted object as a pointer of type ${this.name}`),e.$$.ptrType.isConst&&K(`Cannot convert argument of type ${e.$$.ptrType.name} to parameter type ${this.name}`);var r=e.$$.ptrType.registeredClass;return wt(e.$$.ptr,r,this.registeredClass)}function _t(t){return this.fromWireType(g[t>>2])}function Tt(t,e,r,n,a,o,i,s,u,c,l){this.name=t,this.registeredClass=e,this.isReference=r,this.isConst=n,this.isSmartPointer=a,this.pointeeType=o,this.sharingPolicy=i,this.rawGetPointee=s,this.rawConstructor=u,this.rawShare=c,this.rawDestructor=l,a||void 0!==e.baseClass?this.toWireType=bt:n?(this.toWireType=$t,this.destructorFunction=null):(this.toWireType=Ct,this.destructorFunction=null)}var Pt,Et,At=(t,e,r)=>{n.hasOwnProperty(t)||X("Replacing nonexistant public symbol"),void 0!==n[t].overloadTable&&void 0!==r?n[t].overloadTable[r]=e:(n[t]=e,n[t].argCount=r)},Ot=[],St=t=>{var e=Ot[t];return e||(t>=Ot.length&&(Ot.length=t+1),Ot[t]=e=Pt.get(t)),e},xt=(t,e)=>{var r=(t=Z(t)).includes("j")?((t,e)=>{var r=[];return function(){return r.length=0,Object.assign(r,arguments),((t,e,r)=>t.includes("j")?((t,e,r)=>{var a=n["dynCall_"+t];return r&&r.length?a.apply(null,[e].concat(r)):a.call(null,e)})(t,e,r):St(e).apply(null,r))(t,e,r)}})(t,e):St(e);return"function"!=typeof r&&K(`unknown function pointer with signature ${t}: ${e}`),r},Dt=t=>{var e=me(t),r=Z(e);return pe(e),r},Ft=(t,e)=>{var r=[],n={};throw e.forEach((function t(e){if(!n[e]&&!G[e]){if(Q[e])return void Q[e].forEach(t);r.push(e),n[e]=!0}})),new Et(`${t}: `+r.map(Dt).join([", "]))},Mt=(t,e)=>{for(var r=[],n=0;n<t;n++)r.push(g[e+4*n>>2]);return r};function jt(t,e,r,n,a,o){var i=e.length;i<2&&K("argTypes array size mismatch! Must at least get return value and 'this' types!");var s=null!==e[1]&&null!==r,u=function(t){for(var e=1;e<t.length;++e)if(null!==t[e]&&void 0===t[e].destructorFunction)return!0;return!1}(e),c="void"!==e[0].name,l=i-2,d=new Array(l),h=[],f=[];return vt(t,(function(){var r;arguments.length!==l&&K(`function ${t} called with ${arguments.length} arguments, expected ${l}`),f.length=0,h.length=s?2:1,h[0]=a,s&&(r=e[1].toWireType(f,this),h[1]=r);for(var o=0;o<l;++o)d[o]=e[o+2].toWireType(f,arguments[o]),h.push(d[o]);return function(t){if(u)V(f);else for(var n=s?1:2;n<e.length;n++){var a=1===n?r:d[n-2];null!==e[n].destructorFunction&&e[n].destructorFunction(a)}if(c)return e[0].fromWireType(t)}(n.apply(null,h))}))}var Wt=t=>{const e=(t=t.trim()).indexOf("(");return-1!==e?t.substr(0,e):t};function It(){this.allocated=[void 0],this.freelist=[]}var kt=new It,Rt=t=>{t>=kt.reserved&&0==--kt.get(t).refcount&&kt.free(t)},Ht={toValue:t=>(t||K("Cannot use deleted val. handle = "+t),kt.get(t).value),toHandle:t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return kt.allocate({refcount:1,value:t})}}},Ut=(t,e,r)=>{switch(e){case 1:return r?function(t){return this.fromWireType(f[0|t])}:function(t){return this.fromWireType(p[0|t])};case 2:return r?function(t){return this.fromWireType(v[t>>1])}:function(t){return this.fromWireType(m[t>>1])};case 4:return r?function(t){return this.fromWireType(y[t>>2])}:function(t){return this.fromWireType(g[t>>2])};default:throw new TypeError(`invalid integer width (${e}): ${t}`)}},Bt=(t,e)=>{var r=G[t];return void 0===r&&K(e+" has unknown type "+Dt(t)),r},Vt=t=>{if(null===t)return"null";var e=typeof t;return"object"===e||"array"===e||"function"===e?t.toString():""+t},Lt=(t,e)=>{switch(e){case 4:return function(t){return this.fromWireType(w[t>>2])};case 8:return function(t){return this.fromWireType($[t>>3])};default:throw new TypeError(`invalid float width (${e}): ${t}`)}},zt=(t,e,r)=>{switch(e){case 1:return r?t=>f[0|t]:t=>p[0|t];case 2:return r?t=>v[t>>1]:t=>m[t>>1];case 4:return r?t=>y[t>>2]:t=>g[t>>2];default:throw new TypeError(`invalid integer width (${e}): ${t}`)}},Yt=(t,e,r,n)=>{if(!(n>0))return 0;for(var a=r,o=r+n-1,i=0;i<t.length;++i){var s=t.charCodeAt(i);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&t.charCodeAt(++i)),s<=127){if(r>=o)break;e[r++]=s}else if(s<=2047){if(r+1>=o)break;e[r++]=192|s>>6,e[r++]=128|63&s}else if(s<=65535){if(r+2>=o)break;e[r++]=224|s>>12,e[r++]=128|s>>6&63,e[r++]=128|63&s}else{if(r+3>=o)break;e[r++]=240|s>>18,e[r++]=128|s>>12&63,e[r++]=128|s>>6&63,e[r++]=128|63&s}}return e[r]=0,r-a},Nt=t=>{for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n<=127?e++:n<=2047?e+=2:n>=55296&&n<=57343?(e+=4,++r):e+=3}return e},qt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Gt=(t,e)=>t?((t,e,r)=>{for(var n=e+r,a=e;t[a]&&!(a>=n);)++a;if(a-e>16&&t.buffer&&qt)return qt.decode(t.subarray(e,a));for(var o="";e<a;){var i=t[e++];if(128&i){var s=63&t[e++];if(192!=(224&i)){var u=63&t[e++];if((i=224==(240&i)?(15&i)<<12|s<<6|u:(7&i)<<18|s<<12|u<<6|63&t[e++])<65536)o+=String.fromCharCode(i);else{var c=i-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&i)<<6|s)}else o+=String.fromCharCode(i)}return o})(p,t,e):"",Qt=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Xt=(t,e)=>{for(var r=t,n=r>>1,a=n+e/2;!(n>=a)&&m[n];)++n;if((r=n<<1)-t>32&&Qt)return Qt.decode(p.subarray(t,r));for(var o="",i=0;!(i>=e/2);++i){var s=v[t+2*i>>1];if(0==s)break;o+=String.fromCharCode(s)}return o},Jt=(t,e,r)=>{var n;if(null!==(n=r)&&void 0!==n||(r=2147483647),r<2)return 0;for(var a=e,o=(r-=2)<2*t.length?r/2:t.length,i=0;i<o;++i){var s=t.charCodeAt(i);v[e>>1]=s,e+=2}return v[e>>1]=0,e-a},Zt=t=>2*t.length,Kt=(t,e)=>{for(var r=0,n="";!(r>=e/4);){var a=y[t+4*r>>2];if(0==a)break;if(++r,a>=65536){var o=a-65536;n+=String.fromCharCode(55296|o>>10,56320|1023&o)}else n+=String.fromCharCode(a)}return n},te=(t,e,r)=>{var n;if(null!==(n=r)&&void 0!==n||(r=2147483647),r<4)return 0;for(var a=e,o=a+r-4,i=0;i<t.length;++i){var s=t.charCodeAt(i);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&t.charCodeAt(++i)),y[e>>2]=s,(e+=4)+4>o)break}return y[e>>2]=0,e-a},ee=t=>{for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n>=55296&&n<=57343&&++r,e+=4}return e},re=[],ne={},ae=()=>{if("object"==typeof globalThis)return globalThis;function t(t){t.$$$embind_global$$$=t;var e="object"==typeof $$$embind_global$$$&&t.$$$embind_global$$$==t;return e||delete t.$$$embind_global$$$,e}if("object"==typeof $$$embind_global$$$||("object"==typeof global&&t(global)?$$$embind_global$$$=global:"object"==typeof self&&t(self)&&($$$embind_global$$$=self),"object"==typeof $$$embind_global$$$))return $$$embind_global$$$;throw Error("unable to get global object.")},oe=Reflect.construct,ie=t=>{var e=(t-h.buffer.byteLength+65535)/65536;try{return h.grow(e),C(),1}catch{}},se={},ue=()=>{if(!ue.strings){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:o||"./this.program"};for(var e in se)void 0===se[e]?delete t[e]:t[e]=se[e];var r=[];for(var e in t)r.push(`${e}=${t[e]}`);ue.strings=r}return ue.strings},ce=t=>t%4==0&&(t%100!=0||t%400==0),le=[31,29,31,30,31,30,31,31,30,31,30,31],de=[31,28,31,30,31,30,31,31,30,31,30,31];z=n.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},(()=>{for(var t=new Array(256),e=0;e<256;++e)t[e]=String.fromCharCode(e);Y=t})(),N=n.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Object.assign(pt.prototype,{isAliasOf(t){if(!(this instanceof pt&&t instanceof pt))return!1;var e=this.$$.ptrType.registeredClass,r=this.$$.ptr;t.$$=t.$$;for(var n=t.$$.ptrType.registeredClass,a=t.$$.ptr;e.baseClass;)r=e.upcast(r),e=e.baseClass;for(;n.baseClass;)a=n.upcast(a),n=n.baseClass;return e===n&&r===a},clone(){if(this.$$.ptr||nt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t=ft(Object.create(Object.getPrototypeOf(this),{$$:{value:rt(this.$$)}}));return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t},delete(){this.$$.ptr||nt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&K("Object already scheduled for deletion"),ot(this),it(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||nt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&K("Object already scheduled for deletion"),ct.push(this),1===ct.length&&et&&et(lt),this.$$.deleteScheduled=!0,this}}),n.getInheritedInstanceCount=()=>Object.keys(dt).length,n.getLiveInheritedInstances=()=>{var t=[];for(var e in dt)dt.hasOwnProperty(e)&&t.push(dt[e]);return t},n.flushPendingDeletes=lt,n.setDelayFunction=t=>{et=t,ct.length&&et&&et(lt)},Object.assign(Tt.prototype,{getPointee(t){return this.rawGetPointee&&(t=this.rawGetPointee(t)),t},destructor(t){var e;null===(e=this.rawDestructor)||void 0===e||e.call(this,t)},argPackAdvance:8,readValueFromPointer:_t,deleteObject(t){null!==t&&t.delete()},fromWireType:function(t){var e=this.getPointee(t);if(!e)return this.destructor(t),null;var r=((t,e)=>(e=((t,e)=>{for(void 0===e&&K("ptr should not be undefined");t.baseClass;)e=t.upcast(e),t=t.baseClass;return e})(t,e),dt[e]))(this.registeredClass,e);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=e,r.$$.smartPtr=t,r.clone();var n=r.clone();return this.destructor(t),n}function a(){return this.isSmartPointer?ht(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:e,smartPtrType:this,smartPtr:t}):ht(this.registeredClass.instancePrototype,{ptrType:this,ptr:t})}var o,i=this.registeredClass.getActualType(e),s=ut[i];if(!s)return a.call(this);o=this.isConst?s.constPointerType:s.pointerType;var u=st(e,this.registeredClass,o.registeredClass);return null===u?a.call(this):this.isSmartPointer?ht(o.registeredClass.instancePrototype,{ptrType:o,ptr:u,smartPtrType:this,smartPtr:t}):ht(o.registeredClass.instancePrototype,{ptrType:o,ptr:u})}}),Et=n.UnboundTypeError=((t,e)=>{var r=vt(e,(function(t){this.name=e,this.message=t;var r=new Error(t).stack;void 0!==r&&(this.stack=this.toString()+"\n"+r.replace(/^Error(:[^\n]*)?\n/,""))}));return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},r})(Error,"UnboundTypeError"),Object.assign(It.prototype,{get(t){return this.allocated[t]},has(t){return void 0!==this.allocated[t]},allocate(t){var e=this.freelist.pop()||this.allocated.length;return this.allocated[e]=t,e},free(t){this.allocated[t]=void 0,this.freelist.push(t)}}),kt.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),kt.reserved=kt.allocated.length,n.count_emval_handles=()=>{for(var t=0,e=kt.reserved;e<kt.allocated.length;++e)void 0!==kt.allocated[e]&&++t;return t};var he={s:t=>{var e=new H(t);return e.get_caught()||(e.set_caught(!0),k--),e.set_rethrown(!1),I.push(e),Ce(e.excPtr),e.get_exception_ptr()},u:()=>{ye(0,0);var t=I.pop();be(t.excPtr),R=0},b:()=>U([]),g:t=>U([t]),q:(t,e)=>U([t,e]),J:()=>{var t=I.pop();t||O("no exception to throw");var e=t.excPtr;throw t.get_rethrown()||(I.push(t),t.set_rethrown(!0),t.set_caught(!1),k++),R=e},f:(t,e,r)=>{throw new H(t).init(e,r),k++,R=t},V:()=>k,d:t=>{throw R||(R=t),R},da:t=>{var e=B[t];delete B[t];var r=e.rawConstructor,n=e.rawDestructor,a=e.fields,o=a.map((t=>t.getterReturnType)).concat(a.map((t=>t.setterArgumentType)));J([t],o,(t=>{var o={};return a.forEach(((e,r)=>{var n=e.fieldName,i=t[r],s=e.getter,u=e.getterContext,c=t[r+a.length],l=e.setter,d=e.setterContext;o[n]={read:t=>i.fromWireType(s(u,t)),write:(t,e)=>{var r=[];l(d,t,c.toWireType(r,e)),V(r)}}})),[{name:e.name,fromWireType:t=>{var e={};for(var r in o)e[r]=o[r].read(t);return n(t),e},toWireType:(t,e)=>{for(var a in o)if(!(a in e))throw new TypeError(`Missing field: "${a}"`);var i=r();for(a in o)o[a].write(i,e[a]);return null!==t&&t.push(n,i),i},argPackAdvance:8,readValueFromPointer:L,destructorFunction:n}]}))},Q:(t,e,r,n,a)=>{},_:(t,e,r,n)=>{tt(t,{name:e=Z(e),fromWireType:function(t){return!!t},toWireType:function(t,e){return e?r:n},argPackAdvance:8,readValueFromPointer:function(t){return this.fromWireType(p[t])},destructorFunction:null})},ca:(t,e,r,n,a,o,i,s,u,c,l,d,h)=>{l=Z(l),o=xt(a,o),s&&(s=xt(i,s)),c&&(c=xt(u,c)),h=xt(d,h);var f=(t=>{if(void 0===t)return"_unknown";var e=(t=t.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return e>=48&&e<=57?`_${t}`:t})(l);yt(f,(function(){Ft(`Cannot construct ${l} due to unbound types`,[n])})),J([t,e,r],n?[n]:[],(function(e){var r,a;e=e[0],a=n?(r=e.registeredClass).instancePrototype:pt.prototype;var i=vt(l,(function(){if(Object.getPrototypeOf(this)!==u)throw new N("Use 'new' to construct "+l);if(void 0===v.constructor_body)throw new N(l+" has no accessible constructor");var t=v.constructor_body[arguments.length];if(void 0===t)throw new N(`Tried to invoke ctor of ${l} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(v.constructor_body).toString()}) parameters instead!`);return t.apply(this,arguments)})),u=Object.create(a,{constructor:{value:i}});i.prototype=u;var d,p,v=new gt(l,i,u,h,r,o,s,c);v.baseClass&&(null!==(p=(d=v.baseClass).__derivedClasses)&&void 0!==p||(d.__derivedClasses=[]),v.baseClass.__derivedClasses.push(v));var m=new Tt(l,v,!0,!1,!1),y=new Tt(l+"*",v,!1,!1,!1),g=new Tt(l+" const*",v,!1,!0,!1);return ut[t]={pointerType:y,constPointerType:g},At(f,i),[m,y,g]}))},ba:(t,e,r,n,a,o)=>{var i=Mt(e,r);a=xt(n,a),J([],[t],(function(t){var r=`constructor ${(t=t[0]).name}`;if(void 0===t.registeredClass.constructor_body&&(t.registeredClass.constructor_body=[]),void 0!==t.registeredClass.constructor_body[e-1])throw new N(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${t.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return t.registeredClass.constructor_body[e-1]=()=>{Ft(`Cannot construct ${t.name} due to unbound types`,i)},J([],i,(n=>(n.splice(1,0,null),t.registeredClass.constructor_body[e-1]=jt(r,n,null,a,o),[]))),[]}))},w:(t,e,r,n,a,o,i,s,u)=>{var c=Mt(r,n);e=Z(e),e=Wt(e),o=xt(a,o),J([],[t],(function(t){var n=`${(t=t[0]).name}.${e}`;function a(){Ft(`Cannot call ${n} due to unbound types`,c)}e.startsWith("@@")&&(e=Symbol[e.substring(2)]),s&&t.registeredClass.pureVirtualFunctions.push(e);var u=t.registeredClass.instancePrototype,l=u[e];return void 0===l||void 0===l.overloadTable&&l.className!==t.name&&l.argCount===r-2?(a.argCount=r-2,a.className=t.name,u[e]=a):(mt(u,e,n),u[e].overloadTable[r-2]=a),J([],c,(function(a){var s=jt(n,a,t,o,i);return void 0===u[e].overloadTable?(s.argCount=r-2,u[e]=s):u[e].overloadTable[r-2]=s,[]})),[]}))},Y:(t,e)=>{tt(t,{name:e=Z(e),fromWireType:t=>{var e=Ht.toValue(t);return Rt(t),e},toWireType:(t,e)=>Ht.toHandle(e),argPackAdvance:8,readValueFromPointer:L,destructorFunction:null})},x:(t,e,r,n)=>{function a(){}e=Z(e),a.values={},tt(t,{name:e,constructor:a,fromWireType:function(t){return this.constructor.values[t]},toWireType:(t,e)=>e.value,argPackAdvance:8,readValueFromPointer:Ut(e,r,n),destructorFunction:null}),yt(e,a)},h:(t,e,r)=>{var n=Bt(t,"enum");e=Z(e);var a=n.constructor,o=Object.create(n.constructor.prototype,{value:{value:r},constructor:{value:vt(`${n.name}_${e}`,(function(){}))}});a.values[r]=o,a[e]=o},L:(t,e,r)=>{tt(t,{name:e=Z(e),fromWireType:t=>t,toWireType:(t,e)=>e,argPackAdvance:8,readValueFromPointer:Lt(e,r),destructorFunction:null})},M:(t,e,r,n,a,o,i)=>{var s=Mt(e,r);t=Z(t),t=Wt(t),a=xt(n,a),yt(t,(function(){Ft(`Cannot call ${t} due to unbound types`,s)}),e-1),J([],s,(function(r){var n=[r[0],null].concat(r.slice(1));return At(t,jt(t,n,null,a,o),e-1),[]}))},t:(t,e,r,n,a)=>{e=Z(e);var o=t=>t;if(0===n){var i=32-8*r;o=t=>t<<i>>>i}var s=e.includes("unsigned");tt(t,{name:e,fromWireType:o,toWireType:s?function(t,e){return this.name,e>>>0}:function(t,e){return this.name,e},argPackAdvance:8,readValueFromPointer:zt(e,r,0!==n),destructorFunction:null})},o:(t,e,r)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function a(t){var e=g[t>>2],r=g[t+4>>2];return new n(f.buffer,r,e)}tt(t,{name:r=Z(r),fromWireType:a,argPackAdvance:8,readValueFromPointer:a},{ignoreDuplicateRegistrations:!0})},K:(t,e)=>{var r="std::string"===(e=Z(e));tt(t,{name:e,fromWireType(t){var e,n=g[t>>2],a=t+4;if(r)for(var o=a,i=0;i<=n;++i){var s=a+i;if(i==n||0==p[s]){var u=Gt(o,s-o);void 0===e?e=u:(e+="\0",e+=u),o=s+1}}else{var c=new Array(n);for(i=0;i<n;++i)c[i]=String.fromCharCode(p[a+i]);e=c.join("")}return pe(t),e},toWireType(t,e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var n,a="string"==typeof e;a||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||K("Cannot pass non-string to std::string"),n=r&&a?Nt(e):e.length;var o=ve(4+n+1),i=o+4;if(g[o>>2]=n,r&&a)((t,e,r)=>{Yt(t,p,e,r)})(e,i,n+1);else if(a)for(var s=0;s<n;++s){var u=e.charCodeAt(s);u>255&&(pe(i),K("String has UTF-16 code units that do not fit in 8 bits")),p[i+s]=u}else for(s=0;s<n;++s)p[i+s]=e[s];return null!==t&&t.push(pe,o),o},argPackAdvance:8,readValueFromPointer:_t,destructorFunction(t){pe(t)}})},C:(t,e,r)=>{var n,a,o,i,s;r=Z(r),2===e?(n=Xt,a=Jt,i=Zt,o=()=>m,s=1):4===e&&(n=Kt,a=te,i=ee,o=()=>g,s=2),tt(t,{name:r,fromWireType:t=>{for(var r,a=g[t>>2],i=o(),u=t+4,c=0;c<=a;++c){var l=t+4+c*e;if(c==a||0==i[l>>s]){var d=n(u,l-u);void 0===r?r=d:(r+="\0",r+=d),u=l+e}}return pe(t),r},toWireType:(t,n)=>{"string"!=typeof n&&K(`Cannot pass non-string to C++ string type ${r}`);var o=i(n),u=ve(4+o+e);return g[u>>2]=o>>s,a(n,u+4,o+e),null!==t&&t.push(pe,u),u},argPackAdvance:8,readValueFromPointer:L,destructorFunction(t){pe(t)}})},A:(t,e,r,n,a,o)=>{B[t]={name:Z(e),rawConstructor:xt(r,n),rawDestructor:xt(a,o),fields:[]}},ea:(t,e,r,n,a,o,i,s,u,c)=>{B[t].fields.push({fieldName:Z(e),getterReturnType:r,getter:xt(n,a),getterContext:o,setterArgumentType:i,setter:xt(s,u),setterContext:c})},$:(t,e)=>{tt(t,{isVoid:!0,name:e=Z(e),argPackAdvance:0,fromWireType:()=>{},toWireType:(t,e)=>{}})},R:(t,e,r,n)=>(t=re[t])(null,e=Ht.toValue(e),r,n),ha:Rt,fa:t=>0===t?Ht.toHandle(ae()):(t=(t=>{var e=ne[t];return void 0===e?Z(t):e})(t),Ht.toHandle(ae()[t])),Z:(t,e,r)=>{var n=((t,e)=>{for(var r=new Array(t),n=0;n<t;++n)r[n]=Bt(g[e+4*n>>2],"parameter "+n);return r})(t,e),a=n.shift();t--;var o=new Array(t),i=`methodCaller<(${n.map((t=>t.name)).join(", ")}) => ${a.name}>`;return(t=>{var e=re.length;return re.push(t),e})(vt(i,((e,i,s,u)=>{for(var c=0,l=0;l<t;++l)o[l]=n[l].readValueFromPointer(u+c),c+=n[l].argPackAdvance;var d=1===r?oe(i,o):i.apply(e,o);for(l=0;l<t;++l){var h,f;null===(h=(f=n[l]).deleteObject)||void 0===h||h.call(f,o[l])}return((t,e,r)=>{var n=[],a=t.toWireType(n,r);return n.length&&(g[e>>2]=Ht.toHandle(n)),a})(a,s,d)})))},N:t=>{t>4&&(kt.get(t).refcount+=1)},O:t=>{var e=Ht.toValue(t);V(e),Rt(t)},aa:(t,e)=>{var r=(t=Bt(t,"_emval_take_value")).readValueFromPointer(e);return Ht.toHandle(r)},B:()=>{O("")},X:(t,e,r)=>p.copyWithin(t,e,e+r),W:t=>{var e,r=p.length,n=2147483648;if((t>>>=0)>n)return!1;for(var a=1;a<=4;a*=2){var o=r*(1+.2/a);o=Math.min(o,t+100663296);var i=Math.min(n,(e=Math.max(t,o))+(65536-e%65536)%65536);if(ie(i))return!0}return!1},T:(t,e)=>{var r=0;return ue().forEach(((n,a)=>{var o=e+r;g[t+4*a>>2]=o,((t,e)=>{for(var r=0;r<t.length;++r)f[0|e++]=t.charCodeAt(r);f[0|e]=0})(n,o),r+=n.length+1})),0},U:(t,e)=>{var r=ue();g[t>>2]=r.length;var n=0;return r.forEach((t=>n+=t.length+1)),g[e>>2]=n,0},E:function(t,e,r,n){var a=we();try{return St(t)(e,r,n)}catch(t){if($e(a),t!==t+0)throw t;ye(1,0)}},D:function(t,e,r,n,a){var o=we();try{return St(t)(e,r,n,a)}catch(t){if($e(o),t!==t+0)throw t;ye(1,0)}},F:function(t,e,r,n){var a=we();try{return St(t)(e,r,n)}catch(t){if($e(a),t!==t+0)throw t;ye(1,0)}},n:function(t){var e=we();try{return St(t)()}catch(t){if($e(e),t!==t+0)throw t;ye(1,0)}},a:function(t,e){var r=we();try{return St(t)(e)}catch(t){if($e(r),t!==t+0)throw t;ye(1,0)}},e:function(t,e,r){var n=we();try{return St(t)(e,r)}catch(t){if($e(n),t!==t+0)throw t;ye(1,0)}},m:function(t,e,r,n){var a=we();try{return St(t)(e,r,n)}catch(t){if($e(a),t!==t+0)throw t;ye(1,0)}},k:function(t,e,r,n,a){var o=we();try{return St(t)(e,r,n,a)}catch(t){if($e(o),t!==t+0)throw t;ye(1,0)}},H:function(t,e,r,n,a,o){var i=we();try{return St(t)(e,r,n,a,o)}catch(t){if($e(i),t!==t+0)throw t;ye(1,0)}},v:function(t,e,r,n,a,o,i){var s=we();try{return St(t)(e,r,n,a,o,i)}catch(t){if($e(s),t!==t+0)throw t;ye(1,0)}},G:function(t,e,r,n,a,o,i,s){var u=we();try{return St(t)(e,r,n,a,o,i,s)}catch(t){if($e(u),t!==t+0)throw t;ye(1,0)}},z:function(t,e,r,n,a,o,i,s,u,c,l,d){var h=we();try{return St(t)(e,r,n,a,o,i,s,u,c,l,d)}catch(t){if($e(h),t!==t+0)throw t;ye(1,0)}},P:function(t,e,r,n,a){var o=we();try{return Ee(t,e,r,n,a)}catch(t){if($e(o),t!==t+0)throw t;ye(1,0)}},l:function(t){var e=we();try{St(t)()}catch(t){if($e(e),t!==t+0)throw t;ye(1,0)}},j:function(t,e){var r=we();try{St(t)(e)}catch(t){if($e(r),t!==t+0)throw t;ye(1,0)}},c:function(t,e,r){var n=we();try{St(t)(e,r)}catch(t){if($e(n),t!==t+0)throw t;ye(1,0)}},p:function(t,e,r,n){var a=we();try{St(t)(e,r,n)}catch(t){if($e(a),t!==t+0)throw t;ye(1,0)}},I:function(t,e,r,n,a){var o=we();try{St(t)(e,r,n,a)}catch(t){if($e(o),t!==t+0)throw t;ye(1,0)}},r:function(t,e,r,n,a,o,i,s){var u=we();try{St(t)(e,r,n,a,o,i,s)}catch(t){if($e(u),t!==t+0)throw t;ye(1,0)}},i:function(t,e,r,n,a,o,i,s,u,c,l){var d=we();try{St(t)(e,r,n,a,o,i,s,u,c,l)}catch(t){if($e(d),t!==t+0)throw t;ye(1,0)}},y:function(t,e,r,n,a,o,i,s,u,c,l,d,h,f,p,v){var m=we();try{St(t)(e,r,n,a,o,i,s,u,c,l,d,h,f,p,v)}catch(t){if($e(m),t!==t+0)throw t;ye(1,0)}},ga:t=>t,S:(t,e,r,n,a)=>((t,e,r,n)=>{var a=g[n+40>>2],o={tm_sec:y[n>>2],tm_min:y[n+4>>2],tm_hour:y[n+8>>2],tm_mday:y[n+12>>2],tm_mon:y[n+16>>2],tm_year:y[n+20>>2],tm_wday:y[n+24>>2],tm_yday:y[n+28>>2],tm_isdst:y[n+32>>2],tm_gmtoff:y[n+36>>2],tm_zone:a?Gt(a):""},i=Gt(r),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var u in s)i=i.replace(new RegExp(u,"g"),s[u]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"];function d(t,e,r){for(var n="number"==typeof t?t.toString():t||"";n.length<e;)n=r[0]+n;return n}function h(t,e){return d(t,e,"0")}function p(t,e){function r(t){return t<0?-1:t>0?1:0}var n;return 0===(n=r(t.getFullYear()-e.getFullYear()))&&0===(n=r(t.getMonth()-e.getMonth()))&&(n=r(t.getDate()-e.getDate())),n}function v(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function m(t){var e=((t,e)=>{for(var r=new Date(t.getTime());e>0;){var n=ce(r.getFullYear()),a=r.getMonth(),o=(n?le:de)[a];if(!(e>o-r.getDate()))return r.setDate(r.getDate()+e),r;e-=o-r.getDate()+1,r.setDate(1),a<11?r.setMonth(a+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1))}return r})(new Date(t.tm_year+1900,0,1),t.tm_yday),r=new Date(e.getFullYear(),0,4),n=new Date(e.getFullYear()+1,0,4),a=v(r),o=v(n);return p(a,e)<=0?p(o,e)<=0?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var w={"%a":t=>c[t.tm_wday].substring(0,3),"%A":t=>c[t.tm_wday],"%b":t=>l[t.tm_mon].substring(0,3),"%B":t=>l[t.tm_mon],"%C":t=>h((t.tm_year+1900)/100|0,2),"%d":t=>h(t.tm_mday,2),"%e":t=>d(t.tm_mday,2," "),"%g":t=>m(t).toString().substring(2),"%G":t=>m(t),"%H":t=>h(t.tm_hour,2),"%I":t=>{var e=t.tm_hour;return 0==e?e=12:e>12&&(e-=12),h(e,2)},"%j":t=>h(t.tm_mday+((t,e)=>{for(var r=0,n=0;n<=e;r+=t[n++]);return r})(ce(t.tm_year+1900)?le:de,t.tm_mon-1),3),"%m":t=>h(t.tm_mon+1,2),"%M":t=>h(t.tm_min,2),"%n":()=>"\n","%p":t=>t.tm_hour>=0&&t.tm_hour<12?"AM":"PM","%S":t=>h(t.tm_sec,2),"%t":()=>"\t","%u":t=>t.tm_wday||7,"%U":t=>{var e=t.tm_yday+7-t.tm_wday;return h(Math.floor(e/7),2)},"%V":t=>{var e=Math.floor((t.tm_yday+7-(t.tm_wday+6)%7)/7);if((t.tm_wday+371-t.tm_yday-2)%7<=2&&e++,e){if(53==e){var r=(t.tm_wday+371-t.tm_yday)%7;4!=r&&(3!=r||!ce(t.tm_year))&&(e=1)}}else{e=52;var n=(t.tm_wday+7-t.tm_yday-1)%7;(4==n||5==n&&ce(t.tm_year%400-1))&&e++}return h(e,2)},"%w":t=>t.tm_wday,"%W":t=>{var e=t.tm_yday+7-(t.tm_wday+6)%7;return h(Math.floor(e/7),2)},"%y":t=>(t.tm_year+1900).toString().substring(2),"%Y":t=>t.tm_year+1900,"%z":t=>{var e=t.tm_gmtoff;return(e>=0?"+":"-")+("0000"+(e=(e=Math.abs(e)/60)/60*100+e%60)).slice(-4)},"%Z":t=>t.tm_zone,"%%":()=>"%"};for(var u in i=i.replace(/%%/g,"\0\0"),w)i.includes(u)&&(i=i.replace(new RegExp(u,"g"),w[u](o)));var $=function(t,e,r){var n=Nt(t)+1,a=new Array(n);return Yt(t,a,0,a.length),a}(i=i.replace(/\0\0/g,"%"));return $.length>e?0:(((t,e)=>{f.set(t,e)})($,t),$.length-1)})(t,e,r,n)},fe=function(){var t={a:he};function e(t,e){return fe=t.exports,h=fe.ia,C(),Pt=fe.ma,function(t){T.unshift(t)}(fe.ja),function(t){var e;if(E--,null===(e=n.monitorRunDependencies)||void 0===e||e.call(n,E),0==E&&A){var r=A;A=null,r()}}(),fe}if(function(t){var e;E++,null===(e=n.monitorRunDependencies)||void 0===e||e.call(n,E)}(),n.instantiateWasm)try{return n.instantiateWasm(t,e)}catch(t){d(`Module.instantiateWasm callback failed with error: ${t}`),r(t)}return function(t,e,r,n){return t||"function"!=typeof WebAssembly.instantiateStreaming||D(e)||"function"!=typeof fetch?M(e,r,n):fetch(e,{credentials:"same-origin"}).then((t=>WebAssembly.instantiateStreaming(t,r).then(n,(function(t){return d(`wasm streaming compile failed: ${t}`),d("falling back to ArrayBuffer instantiation"),M(e,r,n)}))))}(l,S,t,(function(t){e(t.instance)})).catch(r),{}}(),pe=n._free=t=>(pe=n._free=fe.ka)(t),ve=n._malloc=t=>(ve=n._malloc=fe.la)(t),me=t=>(me=fe.na)(t),ye=(t,e)=>(ye=fe.oa)(t,e),ge=t=>(ge=fe.pa)(t),we=()=>(we=fe.qa)(),$e=t=>($e=fe.ra)(t),be=t=>(be=fe.sa)(t),Ce=t=>(Ce=fe.ta)(t),_e=(t,e,r)=>(_e=fe.ua)(t,e,r),Te=t=>(Te=fe.va)(t);n.dynCall_viijii=(t,e,r,a,o,i,s)=>(n.dynCall_viijii=fe.wa)(t,e,r,a,o,i,s);var Pe,Ee=n.dynCall_jiiii=(t,e,r,a,o)=>(Ee=n.dynCall_jiiii=fe.xa)(t,e,r,a,o);function Ae(){function t(){Pe||(Pe=!0,n.calledRun=!0,!b&&(j(T),e(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),function(){if(n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;)t=n.postRun.shift(),P.unshift(t);var t;j(P)}()))}E>0||(function(){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)t=n.preRun.shift(),_.unshift(t);var t;j(_)}(),E>0)||(n.setStatus?(n.setStatus("Running..."),setTimeout((function(){setTimeout((function(){n.setStatus("")}),1),t()}),1)):t())}if(n.dynCall_iiiiij=(t,e,r,a,o,i,s)=>(n.dynCall_iiiiij=fe.ya)(t,e,r,a,o,i,s),n.dynCall_iiiiijj=(t,e,r,a,o,i,s,u,c)=>(n.dynCall_iiiiijj=fe.za)(t,e,r,a,o,i,s,u,c),n.dynCall_iiiiiijj=(t,e,r,a,o,i,s,u,c,l)=>(n.dynCall_iiiiiijj=fe.Aa)(t,e,r,a,o,i,s,u,c,l),A=function t(){Pe||Ae(),Pe||(A=t)},n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return Ae(),t.ready});function R(t){return function(t,e){M.set(t,{moduleOverrides:e})}(k,t)}class H extends EventTarget{constructor(t={}){var e;super(),((t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,void 0)})(this,I);try{const r=null==(e=null==t?void 0:t.formats)?void 0:e.filter((t=>"unknown"!==t));if(0===(null==r?void 0:r.length))throw new TypeError("Hint option provided, but is empty.");null==r||r.forEach((t=>{if(!s.has(t))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${t}' is not a valid enum value of type BarcodeFormat.`)})),((t,e,r,a)=>{n(t,e,"write to private field"),e.set(t,r)})(this,I,null!=r?r:[]),j(k,void 0).then((t=>{this.dispatchEvent(new CustomEvent("load",{detail:t}))})).catch((t=>{this.dispatchEvent(new CustomEvent("error",{detail:t}))}))}catch(t){throw g(t,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return i.filter((t=>"unknown"!==t))}async detect(t){try{const e=await async function(t){if(m(t))return await async function(t){let e;try{if(globalThis.createImageBitmap)e=await createImageBitmap(t);else{if(!globalThis.Image)return t;{e=new Image;let r="";try{r=URL.createObjectURL(t),e.src=r,await e.decode()}finally{URL.revokeObjectURL(r)}}}}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}return await y(e)}(t);if(function(t){try{return t instanceof ImageData}catch{return!1}}(t)){if(function(t){return 0===t.data.buffer.byteLength}(t))throw new DOMException("The image data has been detached.","InvalidStateError");return t}return h(t)||p(t)?function(t){const{width:e,height:r}=t;if(0===e||0===r)return null;const n=t.getContext("2d");try{return n.getImageData(0,0,e,r)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}(t):await y(t)}(t);if(null===e)return[];let r;try{r=m(e)?await async function(t,e){return async function(t,e,r=S){const n={...S,...r},a=await j(t),{size:o}=e,i=new Uint8Array(await e.arrayBuffer()),s=a._malloc(o);a.HEAPU8.set(i,s);const u=a.readBarcodesFromImage(s,o,x(a,n));a._free(s);const c=[];for(let t=0;t<u.size();++t)c.push(D(u.get(t)));return c}(k,t,e)}(e,{tryHarder:!0,formats:a(this,I).map((t=>s.get(t)))}):await async function(t,e){return async function(t,e,r=S){const n={...S,...r},a=await j(t),{data:o,width:i,height:s,data:{byteLength:u}}=e,c=a._malloc(u);a.HEAPU8.set(o,c);const l=a.readBarcodesFromPixmap(c,i,s,x(a,n));a._free(c);const d=[];for(let t=0;t<l.size();++t)d.push(D(l.get(t)));return d}(k,t,e)}(e,{tryHarder:!0,formats:a(this,I).map((t=>s.get(t)))})}catch(t){throw console.error(t),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return r.map((t=>{const{topLeft:{x:e,y:r},topRight:{x:n,y:a},bottomLeft:{x:o,y:i},bottomRight:{x:s,y:c}}=t.position,l=Math.min(e,n,o,s),d=Math.min(r,a,i,c),h=Math.max(e,n,o,s),f=Math.max(r,a,i,c);return{boundingBox:new DOMRectReadOnly(l,d,h-l,f-d),rawValue:t.text,format:u(t.format),cornerPoints:[{x:e,y:r},{x:n,y:a},{x:s,y:c},{x:o,y:i}]}}))}catch(t){throw g(t,"Failed to execute 'detect' on 'BarcodeDetector'")}}}I=new WeakMap,null!=globalThis.BarcodeDetector||(globalThis.BarcodeDetector=H)}}]);